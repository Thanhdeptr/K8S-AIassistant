(self["webpackChunkui_plugin_examples"]=self["webpackChunkui_plugin_examples"]||[]).push([[2444],{82444:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>m});var t=r(20641),s=r(90033);const i={key:1};function n(e,a,r,n,l,d){const c=(0,t.g2)("Loading"),o=(0,t.g2)("Masthead"),p=(0,t.g2)("Banner"),u=(0,t.g2)("ResourceTable");return e.$fetchState.pending?((0,t.uX)(),(0,t.Wv)(c,{key:0})):((0,t.uX)(),(0,t.CE)("div",i,[(0,t.bF)(o,{schema:l.schema,resource:l.resource,"create-location":d.createLocation,"type-display":e.t("manager.cloudCredentials.label")},null,8,["schema","resource","create-location","type-display"]),a[0]||(a[0]=(0,t.eW)()),d.expiredData.expiring?((0,t.uX)(),(0,t.Wv)(p,{key:0,"data-testid":"cert-expiring-banner",color:"warning",label:d.expiredData.expiring},null,8,["label"])):(0,t.Q3)("",!0),a[1]||(a[1]=(0,t.eW)()),d.expiredData.expired?((0,t.uX)(),(0,t.Wv)(p,{key:1,color:"error",label:d.expiredData.expired},null,8,["label"])):(0,t.Q3)("",!0),a[2]||(a[2]=(0,t.eW)()),(0,t.bF)(u,{schema:l.schema,rows:d.rows,headers:d.headers,namespaced:!1,"group-by":"providerDisplay"},{"cell:id":(0,t.k6)((({row:e})=>[(0,t.eW)((0,s.v_)(e.id.replace("cattle-global-data:","")),1)])),_:1},8,["schema","rows","headers"])]))}var l=r(38928),d=r(1822),c=r(21399),o=r(55823),p=r(31645),u=r(47170),h=r(14492);const g={components:{Loading:l.A,ResourceTable:d.A,Masthead:c.A,Banner:h.l},async fetch(){const e={};this.$store.getters["management/schemaFor"](o.bB)&&!this.$store.getters["cluster/paginationEnabled"](o.bB)&&(e.secrets=this.$store.dispatch("management/findAll",{type:o.bB})),e.allCredentials=this.$store.dispatch("rancher/findAll",{type:o.k$.CLOUD_CREDENTIAL});const a=await(0,u.kR)(e);this.allCredentials=a.allCredentials,this.hasHarvester=!!this.allCredentials.find((e=>!!e.harvestercredentialConfig))},data(){return{allCredentials:null,resource:o.k$.CLOUD_CREDENTIAL,schema:this.$store.getters["rancher/schemaFor"](o.k$.CLOUD_CREDENTIAL)}},computed:{rows(){return this.allCredentials||[]},headers(){const e=[p.vQ,p.ZU,{name:"apikey",labelKey:"tableHeaders.apikey",value:"publicData",sort:"publicData",search:"publicData",formatter:"CloudCredPublicData"},p.tC];return this.hasHarvester&&e.push({name:"expiresDate",labelKey:"tableHeaders.expires",value:"expires",sort:"expiresForSort",formatter:"CloudCredExpired"}),e.push(p.Q5),e},createLocation(){return{name:"c-cluster-manager-cloudCredential-create",params:{product:this.$store.getters["currentProduct"].name,resource:this.resource}}},expiredData(){const e=this.allCredentials.reduce(((e,a)=>{const r=a.expireData;return r?.expiring&&e.expiring++,r?.expired&&e.expired++,e}),{expiring:0,expired:0});return{expiring:e.expiring?this.t("manager.cloudCredentials.banners.expiring",{count:e.expiring}):"",expired:e.expired?this.t("manager.cloudCredentials.banners.expired",{count:e.expired}):""}}}};r(24428);var x=r(66262);const b=(0,x.A)(g,[["render",n],["__scopeId","data-v-7e20a296"]]),m=b},52782:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>c});var t=r(31601),s=r.n(t),i=r(76314),n=r.n(i),l=r(5111),d=n()(s());d.i(l.A),d.push([e.id,".banner[data-v-7e20a296]{margin:0 0 10px 0}",""]);const c=d},24428:(e,a,r)=>{var t=r(52782);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var s=r(99548).A;s("7db80448",t,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=2444.cd122b99.js.map