{"version":3,"file":"js/8130.e1b5c23c.js","mappings":"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","sources":["webpack://ui-plugin-examples/./node_modules/@rancher/shell/mixins/brand.js","webpack://ui-plugin-examples/./node_modules/@rancher/shell/utils/favicon.js","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/support/index.vue","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/support/index.vue?6acc","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/support/index.vue?d449","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/support/index.vue?f2cb"],"sourcesContent":["import { mapGetters } from 'vuex';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { createCssVars } from '@shell/utils/color';\nimport { setTitle } from '@shell/config/private-label';\nimport { setFavIcon, haveSetFavIcon } from '@shell/utils/favicon';\n\nconst cspAdaptorApp = ['rancher-csp-adapter', 'rancher-csp-billing-adapter'];\n\nexport const hasCspAdapter = (apps) => {\n  return apps?.find((a) => cspAdaptorApp.includes(a.metadata?.name));\n};\n\nexport default {\n  async fetch() {\n    // For the login page, the schemas won't be loaded - we don't need the apps in this case\n    try {\n      if (this.$store.getters['management/canList'](CATALOG.APP)) {\n        this.apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n      }\n    } catch (e) {}\n\n    // Ensure we read the settings even when we are not authenticated\n    try {\n      // The favicon is implicitly dependent on the initial settings having already been fetched\n      if (!haveSetFavIcon()) {\n        setFavIcon(this.$store);\n      }\n    } catch (e) {}\n\n    // Setting this up front will remove `computed` churn, and we only care that we've initialised them\n    this.haveAppsAndSettings = !!this.apps && !!this.globalSettings;\n  },\n\n  data() {\n    return { apps: null, haveAppsAndSettings: null };\n  },\n\n  computed: {\n    ...mapGetters({ loggedIn: 'auth/loggedIn' }),\n\n    // added to fix https://github.com/rancher/dashboard/issues/10788\n    // because on logout the brand mixin is mounted, but then a management store reset happens\n    // since login view get loaded, another fetchInitialSettings get's done\n    // which in turn will populate again globalSettings\n    globalSettings() {\n      return this.$store.getters['management/all'](MANAGEMENT.SETTING);\n    },\n\n    brand() {\n      const setting = this.globalSettings?.find((gs) => gs.id === SETTING.BRAND);\n\n      return setting?.value;\n    },\n\n    color() {\n      const setting = this.globalSettings?.find((gs) => gs.id === SETTING.PRIMARY_COLOR);\n\n      return setting?.value;\n    },\n\n    linkColor() {\n      const setting = this.globalSettings?.find((gs) => gs.id === SETTING.LINK_COLOR);\n\n      return setting?.value;\n    },\n\n    theme() {\n      const setting = this.globalSettings?.find((gs) => gs.id === SETTING.THEME);\n\n      // This handles cases where the settings update after the page loads (like on log out)\n      if (setting?.value) {\n        return setting?.value;\n      }\n\n      return this.$store.getters['prefs/theme'];\n    },\n\n    cspAdapter() {\n      if (!this.canCalcCspAdapter) {\n        // We only have a watch on cspAdapter to kick off persisting the brand setting.\n        // So we need to ensure we don't return an undefined here... which would match the undefined gave if no csp app was found...\n        // .. and wouldn't kick off the watcher\n        return '';\n      }\n\n      // Note! this used to be `findBy(this.app)` however for that case we lost reactivity on the collection\n      // (computed fires before fetch, fetch happens and update apps, computed would not fire again - even with vue.set)\n      // So use `.find` in method instead\n      return hasCspAdapter(this.apps);\n    },\n\n    canCalcCspAdapter() {\n      // We need to take consider the loggedIn state, as the brand mixin is used in the logout page where we can be in a mixed state\n      // (things in store but user has no auth to make changes)\n      return this.loggedIn && this.haveAppsAndSettings;\n    }\n  },\n\n  watch: {\n    color: {\n      handler(neu) {\n        if (neu) {\n          this.setCustomColor(neu);\n        } else {\n          this.removeCustomColor();\n        }\n      },\n      immediate: true\n    },\n    linkColor: {\n      handler(neu) {\n        if (neu) {\n          this.setCustomColor(neu, 'link');\n        } else {\n          this.removeCustomColor('link');\n        }\n      },\n      immediate: true\n    },\n    theme: {\n      handler() {\n        if (this.color) {\n          this.setCustomColor(this.color);\n        }\n        if (this.linkColor) {\n          this.setCustomColor(this.linkColor, 'link');\n        }\n        this.setBodyClass();\n      },\n      immediate: true\n    },\n\n    cspAdapter: {\n      handler(neu) {\n        if (!this.canCalcCspAdapter) {\n          return;\n        }\n\n        // The brand setting will only get updated if...\n        if (neu && !this.brand) {\n          // 1) There should be a brand... but there's no brand setting\n          const brandSetting = this.globalSettings?.find((gs) => gs.id === SETTING.BRAND);\n\n          if (brandSetting) {\n            brandSetting.value = 'csp';\n            brandSetting.save();\n          } else {\n            const schema = this.$store.getters['management/schemaFor'](MANAGEMENT.SETTING);\n            const url = schema?.linkFor('collection');\n\n            if (url) {\n              this.$store.dispatch('management/create', {\n                type: MANAGEMENT.SETTING, metadata: { name: SETTING.BRAND }, value: 'csp', default: ''\n              }).then((setting) => setting.save());\n            }\n          }\n        }\n      },\n      immediate: true\n    },\n    brand: {\n      handler() {\n        this.setBodyClass();\n      },\n      immediate: true\n    }\n\n  },\n  mounted() {\n    this.setBodyClass();\n    setTitle();\n  },\n  methods: {\n    setCustomColor(color, name = 'primary') {\n      const vars = createCssVars(color, this.theme, name);\n\n      for (const prop in vars) {\n        document.body.style.setProperty(prop, vars[prop]);\n      }\n    },\n\n    removeCustomColor(name = 'primary') {\n      const vars = createCssVars('rgb(0,0,0)', this.theme, name);\n\n      for (const prop in vars) {\n        document.body.style.removeProperty(prop);\n      }\n    },\n    setBodyClass() {\n      const body = document.getElementsByTagName('body')[0];\n      const cssClass = `overflow-hidden dashboard-body`;\n      let bodyClass = `theme-${ this.theme } ${ cssClass }`;\n\n      if ( this.brand ) {\n        try {\n          const brandMeta = require(`~shell/assets/brand/${ this.brand }/metadata.json`);\n\n          if (brandMeta?.hasStylesheet === 'true') {\n            bodyClass = `${ cssClass } ${ this.brand } theme-${ this.theme }`;\n          } else {\n            bodyClass = `theme-${ this.theme } overflow-hidden dashboard-body`;\n            this.$store.dispatch('prefs/setBrandStyle', this.theme === 'dark');\n          }\n        } catch {}\n      }\n      body.className = bodyClass;\n    }\n  }\n\n};\n","import { SETTING } from '@shell/config/settings';\nimport { MANAGEMENT } from '@shell/config/types';\n\nlet favIconSet = false;\n\nexport function haveSetFavIcon() {\n  return favIconSet;\n}\n\nexport function setFavIcon(store) {\n  const res = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.FAVICON);\n  const brandSetting = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.BRAND);\n  const link = findIconLink(document.head.getElementsByTagName('link'));\n\n  if (link) {\n    let brandImage;\n\n    if (brandSetting?.value === 'suse') {\n      brandImage = require('~shell/assets/brand/suse/favicon.png');\n    } else if (brandSetting?.value === 'csp') {\n      brandImage = require('~shell/assets/brand/csp/favicon.png');\n    } else if (brandSetting?.value === 'harvester') {\n      brandImage = require('~shell/assets/brand/harvester/favicon.png');\n    }\n\n    link.href = res?.value || brandImage || defaultFavIcon;\n    favIconSet = true;\n  }\n}\n\nfunction getCurrentFavIcon() {\n  const link = findIconLink(document.head.getElementsByTagName('link'));\n\n  return link ? link.href : '';\n}\n\nfunction findIconLink(links) {\n  for (let i = 0; i < links.length; i++) {\n    const link = links[i];\n\n    if (link.rel?.includes('icon')) {\n      return link;\n    }\n  }\n\n  return undefined;\n}\n\nconst defaultFavIcon = getCurrentFavIcon();\n","<script>\nimport BannerGraphic from '@shell/components/BannerGraphic';\nimport IndentedPanel from '@shell/components/IndentedPanel';\nimport CommunityLinks from '@shell/components/CommunityLinks';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { getVendor } from '@shell/config/private-label';\nimport { SETTING } from '@shell/config/settings';\nimport { addParam } from '@shell/utils/url';\nimport { isRancherPrime } from '@shell/config/version';\nimport { hasCspAdapter } from '@shell/mixins/brand';\nimport TabTitle from '@shell/components/TabTitle';\n\nexport default {\n\n  components: {\n    BannerGraphic,\n    IndentedPanel,\n    CommunityLinks,\n    TabTitle\n  },\n\n  async fetch() {\n    const fetchOrCreateSetting = async(id, val) => {\n      let setting;\n\n      try {\n        setting = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id });\n      } catch {\n        const schema = this.$store.getters['management/schemaFor'](MANAGEMENT.SETTING);\n        const url = schema.linkFor('collection');\n\n        setting = await this.$store.dispatch('management/create', {\n          type:     MANAGEMENT.SETTING,\n          metadata: { name: id },\n          value:    val,\n          default:  val || ''\n        });\n\n        setting.save({ url });\n      }\n\n      return setting;\n    };\n\n    if ( this.$store.getters['management/canList'](CATALOG.APP) ) {\n      this.apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n    }\n    this.brandSetting = await fetchOrCreateSetting(SETTING.BRAND, '');\n    this.serverUrlSetting = await fetchOrCreateSetting(SETTING.SERVER_URL, '');\n    this.uiIssuesSetting = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.ISSUES });\n    this.settings = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.SETTING });\n  },\n\n  data() {\n    return {\n      apps:            [],\n      vendor:          getVendor(),\n      supportKey:      '',\n      brandSetting:    null,\n      uiIssuesSetting: null,\n      serverSetting:   null,\n      settings:        null,\n      // i18n-uses support.promos.one.*\n      // i18n-uses support.promos.two.*\n      // i18n-uses support.promos.three.*\n      // i18n-uses support.promos.four.*\n      promos:          [\n        'support.promos.one',\n        'support.promos.two',\n        'support.promos.three',\n        'support.promos.four',\n      ]\n    };\n  },\n\n  computed: {\n    cspAdapter() {\n      return hasCspAdapter(this.apps);\n    },\n\n    hasSupport() {\n      return this.hasAWSSupport || isRancherPrime();\n    },\n\n    hasAWSSupport() {\n      return !!this.cspAdapter;\n    },\n\n    serverUrl() {\n      // Client-side rendered: use the current window location\n      return window.location.origin;\n    },\n\n    supportConfigLink() {\n      const adapter = this.cspAdapter;\n\n      if (!adapter) {\n        return false;\n      }\n\n      if (adapter.metadata.name === 'rancher-csp-billing-adapter') {\n        return `${ this.serverUrl }/v1/generateSUSERancherSupportConfig?usePAYG=true`;\n      } else {\n        return `${ this.serverUrl }/v1/generateSUSERancherSupportConfig`;\n      }\n    },\n\n    title() {\n      return this.hasSupport ? 'support.suse.title' : 'support.community.title';\n    },\n\n    sccLink() {\n      return this.hasAWSSupport ? addParam('https://scc.suse.com', 'from_marketplace', '1') : 'https://scc.suse.com';\n    }\n  },\n\n};\n</script>\n<template>\n  <div>\n    <BannerGraphic :title=\"t(title, {}, true)\" />\n\n    <IndentedPanel>\n      <div class=\"content mt-20\">\n        <div class=\"promo col main-panel\">\n          <div class=\"box mb-20 box-primary\">\n            <h2>\n              <TabTitle breadcrumb=\"vendor-only\">\n                {{ t('support.suse.access.title') }}\n              </TabTitle>\n            </h2>\n            <div\n              v-if=\"!hasSupport\"\n              class=\"external support-links mt-20\"\n            >\n              <div class=\"support-link\">\n                <a\n                  class=\"support-link\"\n                  href=\"https://www.rancher.com/support\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer nofollow\"\n                >{{ t('support.community.learnMore') }}</a>\n              </div>\n              <div class=\"support-link\">\n                <a\n                  class=\"support-link\"\n                  href=\"https://rancher.com/pricing\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer nofollow\"\n                >{{ t('support.community.pricing') }}</a>\n              </div>\n            </div>\n            <div v-else>\n              <p class=\"pb-10\">\n                {{ hasAWSSupport ? t(\"support.suse.access.aws.text\") : t(\"support.suse.access.text\") }}\n              </p>\n              <a\n                v-if=\"hasAWSSupport\"\n                class=\"mr-5 btn role-secondary btn-sm\"\n                :href=\"supportConfigLink\"\n              >\n                {{ t('support.suse.access.aws.generateConfig') }}\n              </a>\n              <a\n                :href=\"sccLink\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer nofollow\"\n              >\n                {{ t('support.suse.access.action') }} <i class=\"icon icon-external-link\" />\n              </a>\n            </div>\n          </div>\n          <div class=\"boxes\">\n            <div\n              v-for=\"(key, i) in promos\"\n              :key=\"i\"\n              class=\"box\"\n            >\n              <h2>{{ t(`${key}.title`) }}</h2>\n              <div>{{ t(`${key}.text`) }}</div>\n            </div>\n          </div>\n        </div>\n        <CommunityLinks\n          :is-support-page=\"true\"\n          class=\"community col side-panel span-3\"\n        />\n      </div>\n    </IndentedPanel>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.content {\n\n    display: flex;\n    align-items: stretch;\n    .col {\n      margin: 0\n    }\n    .main-panel {\n      flex: auto;\n    }\n\n    .side-panel {\n      margin-left: 1.75%;\n    }\n  }\n\n.toggle-support {\n    height: 100%;\n\n    &.card-container {\n      box-shadow: none;\n    }\n\n    &:deep() .card-actions {\n      display: flex;\n      justify-content: space-between;\n    }\n}\n\n.support-link:not(:first-child) {\n  margin: 15px 0 0 0;\n}\n\n.register {\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n  font-size: 16px;\n}\n.remove-link {\n  cursor: pointer;\n  font-size: 14px;\n}\n.boxes {\n  display: grid;\n  grid-column-gap: 20px;\n  grid-row-gap: 20px;\n  grid-template-columns: 50% 50%;\n  margin-right: 20px;\n}\n\n.box {\n  padding: 20px;\n  border: 1px solid var(--border);\n\n  &.box-primary {\n    border-color: var(--primary);\n  }\n\n  > h2 {\n    font-size: 20px;\n    font-weight: 300;\n  }\n\n  > div {\n    font-weight: 300;\n    line-height: 18px;\n    opacity: 0.8;\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=dfb14864&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=dfb14864&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dfb14864\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../vue-loader/dist/stylePostLoader.js!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../xterm/css/xterm.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.content[data-v-dfb14864]{display:flex;align-items:stretch}.content .col[data-v-dfb14864]{margin:0}.content .main-panel[data-v-dfb14864]{flex:auto}.content .side-panel[data-v-dfb14864]{margin-left:1.75%}.toggle-support[data-v-dfb14864]{height:100%}.toggle-support.card-container[data-v-dfb14864]{box-shadow:none}.toggle-support[data-v-dfb14864]  .card-actions{display:flex;justify-content:space-between}.support-link[data-v-dfb14864]:not(:first-child){margin:15px 0 0 0}.register[data-v-dfb14864]{display:flex;align-items:center;margin-top:20px;font-size:16px}.remove-link[data-v-dfb14864]{cursor:pointer;font-size:14px}.boxes[data-v-dfb14864]{display:grid;grid-column-gap:20px;grid-row-gap:20px;grid-template-columns:50% 50%;margin-right:20px}.box[data-v-dfb14864]{padding:20px;border:1px solid var(--border)}.box.box-primary[data-v-dfb14864]{border-color:var(--primary)}.box>h2[data-v-dfb14864]{font-size:20px;font-weight:300}.box>div[data-v-dfb14864]{font-weight:300;line-height:18px;opacity:.8}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../vue-loader/dist/stylePostLoader.js!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./index.vue?vue&type=style&index=0&id=dfb14864&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0aee7abb\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["cspAdaptorApp","hasCspAdapter","apps","find","a","includes","metadata","name","fetch","this","$store","getters","APP","dispatch","type","e","haveAppsAndSettings","globalSettings","data","computed","loggedIn","SETTING","brand","setting","gs","id","BRAND","value","color","PRIMARY_COLOR","linkColor","LINK_COLOR","theme","THEME","cspAdapter","canCalcCspAdapter","watch","handler","neu","setCustomColor","removeCustomColor","immediate","setBodyClass","brandSetting","save","schema","url","linkFor","default","then","mounted","methods","vars","prop","document","body","style","setProperty","removeProperty","getElementsByTagName","cssClass","bodyClass","brandMeta","hasStylesheet","className","favIconSet","haveSetFavIcon","setFavIcon","store","res","FAVICON","link","findIconLink","head","brandImage","href","defaultFavIcon","getCurrentFavIcon","links","i","length","rel","class","target","title","t","breadcrumb","hasSupport","hasAWSSupport","supportConfigLink","sccLink","promos","key","components","BannerGraphic","IndentedPanel","CommunityLinks","TabTitle","fetchOrCreateSetting","async","val","serverUrlSetting","SERVER_URL","uiIssuesSetting","ISSUES","settings","vendor","supportKey","serverSetting","serverUrl","window","location","origin","adapter","__exports__","render","___CSS_LOADER_EXPORT___","push","module","content","__esModule","locals","exports","add"],"sourceRoot":""}