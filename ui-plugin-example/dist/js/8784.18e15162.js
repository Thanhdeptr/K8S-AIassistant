"use strict";(self["webpackChunkui_plugin_examples"]=self["webpackChunkui_plugin_examples"]||[]).push([[8784],{8243:(t,e,s)=>{s.d(e,{A:()=>c,Q:()=>d});var n=s(66278),a=s(55823),i=s(95822),o=s(86226),r=s(10874),l=s(83953);const h=["rancher-csp-adapter","rancher-csp-billing-adapter"],d=t=>t?.find((t=>h.includes(t.metadata?.name))),c={async fetch(){try{this.$store.getters["management/canList"](a.W8.APP)&&(this.apps=await this.$store.dispatch("management/findAll",{type:a.W8.APP}))}catch(t){}try{(0,l.p)()||(0,l.T)(this.$store)}catch(t){}this.haveAppsAndSettings=!!this.apps&&!!this.globalSettings},data(){return{apps:null,haveAppsAndSettings:null}},computed:{...(0,n.L8)({loggedIn:"auth/loggedIn"}),globalSettings(){return this.$store.getters["management/all"](a.Mc.SETTING)},brand(){const t=this.globalSettings?.find((t=>t.id===i.HG.BRAND));return t?.value},color(){const t=this.globalSettings?.find((t=>t.id===i.HG.PRIMARY_COLOR));return t?.value},linkColor(){const t=this.globalSettings?.find((t=>t.id===i.HG.LINK_COLOR));return t?.value},theme(){const t=this.globalSettings?.find((t=>t.id===i.HG.THEME));return t?.value?t?.value:this.$store.getters["prefs/theme"]},cspAdapter(){return this.canCalcCspAdapter?d(this.apps):""},canCalcCspAdapter(){return this.loggedIn&&this.haveAppsAndSettings}},watch:{color:{handler(t){t?this.setCustomColor(t):this.removeCustomColor()},immediate:!0},linkColor:{handler(t){t?this.setCustomColor(t,"link"):this.removeCustomColor("link")},immediate:!0},theme:{handler(){this.color&&this.setCustomColor(this.color),this.linkColor&&this.setCustomColor(this.linkColor,"link"),this.setBodyClass()},immediate:!0},cspAdapter:{handler(t){if(this.canCalcCspAdapter&&t&&!this.brand){const t=this.globalSettings?.find((t=>t.id===i.HG.BRAND));if(t)t.value="csp",t.save();else{const t=this.$store.getters["management/schemaFor"](a.Mc.SETTING),e=t?.linkFor("collection");e&&this.$store.dispatch("management/create",{type:a.Mc.SETTING,metadata:{name:i.HG.BRAND},value:"csp",default:""}).then((t=>t.save()))}}},immediate:!0},brand:{handler(){this.setBodyClass()},immediate:!0}},mounted(){this.setBodyClass(),(0,r.D6)()},methods:{setCustomColor(t,e="primary"){const s=(0,o.Y8)(t,this.theme,e);for(const n in s)document.body.style.setProperty(n,s[n])},removeCustomColor(t="primary"){const e=(0,o.Y8)("rgb(0,0,0)",this.theme,t);for(const s in e)document.body.style.removeProperty(s)},setBodyClass(){const t=document.getElementsByTagName("body")[0],e="overflow-hidden dashboard-body";let n=`theme-${this.theme} ${e}`;if(this.brand)try{const t=s(83029)(`./${this.brand}/metadata.json`);"true"===t?.hasStylesheet?n=`${e} ${this.brand} theme-${this.theme}`:(n=`theme-${this.theme} overflow-hidden dashboard-body`,this.$store.dispatch("prefs/setBrandStyle","dark"===this.theme))}catch{}t.className=n}}}},83953:(t,e,s)=>{s.d(e,{T:()=>r,p:()=>o});var n=s(95822),a=s(55823);let i=!1;function o(){return i}function r(t){const e=t.getters["management/byId"](a.Mc.SETTING,n.HG.FAVICON),o=t.getters["management/byId"](a.Mc.SETTING,n.HG.BRAND),r=h(document.head.getElementsByTagName("link"));if(r){let t;"suse"===o?.value?t=s(94520):"csp"===o?.value?t=s(43318):"harvester"===o?.value&&(t=s(80270)),r.href=e?.value||t||d,i=!0}}function l(){const t=h(document.head.getElementsByTagName("link"));return t?t.href:""}function h(t){for(let e=0;e<t.length;e++){const s=t[e];if(s.rel?.includes("icon"))return s}}const d=l()},78784:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var n=s(20641);const a={class:"main-layout"};function i(t,e,s,i,o,r){const l=(0,n.g2)("router-view"),h=(0,n.g2)("Inactivity");return(0,n.uX)(),(0,n.CE)("main",a,[((0,n.uX)(),(0,n.Wv)(l,{key:t.$route.path})),e[0]||(e[0]=(0,n.eW)()),(0,n.bF)(h)])}var o=s(8243),r=s(37499);const l={components:{Inactivity:r.A},mixins:[o.A]};var h=s(66262);const d=(0,h.A)(l,[["render",i]]),c=d}}]);
//# sourceMappingURL=8784.18e15162.js.map