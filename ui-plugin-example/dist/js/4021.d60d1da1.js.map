{"version":3,"file":"js/4021.d60d1da1.js","mappings":"0MA2FQA,MAAM,O,uIAFGC,EAAAA,YAAmB,U,WAAlC,QAAsC,c,WACtC,QAwBM,UAvBJ,QAEK,KAFL,GAEK,QADA,EAAAC,aAAW,G,wBAGP,EAAAC,QAAQC,Q,4BADjB,QAaS,G,MAXNC,MAAOC,EAAAA,EAAE,0BACVC,MAAM,Q,mBAEN,IAOM,EAPN,QAOM,a,iBANDD,EAAAA,EAAE,4BAA6B,IAClC,YAEc,GAFAE,GAAI,EAAAC,iBAAe,C,kBAC/B,IAAiC,E,iBAA9BH,EAAAA,EAAE,2BAAD,M,oDAEN,QAAI,qB,QAAA,KACJ,QAAGA,EAAAA,EAAE,2BAAD,Q,4CAGR,QAKE,GAJCI,KAAM,EAAAA,KACN,YAAW,EAAAC,SACZ,aAAW,WACV,UAAO,YAAGC,GAAQ,EAAAC,KAAKD,EAAIE,M,iHAvGlC,SACEC,WAAY,CACVC,eAAc,IAAEC,OAAM,IAAEC,QAAO,KAGjC,WAAMC,GACJ,MAAMC,QAAkB,EAAAC,EAAA,IAAkBC,KAAKC,QAE/C,GAAMH,EAAUI,gBACd,OAAOF,KAAKG,QAAQC,QAAQN,EAAUI,iBAGxCF,KAAK,WAAaF,EAAUjB,QAC5BmB,KAAK,YAAcF,EAAUO,QAC/B,EAEA,IAAAC,GACE,MAAMC,EAAW,KAAWC,YACtBC,EAAUT,KAAKC,OAAOQ,QACtBC,EAAUD,EAAQ,gBAAgBF,GAClCI,EAAmBF,EAAQ,0BAA0BF,GACrDK,EAAmBH,EAAQ,0BAA0BF,GACrDM,EAASJ,EAAQ,GAAIC,eAAsBH,GAEjD,MAAO,CACLA,WACAM,SACAF,mBACAC,mBAGA/B,SAAU,EACVwB,SAAU,KAEd,EAEAS,SAAU,CACR,IAAA1B,GACE,OAAO,EAAA2B,EAAA,IAAOf,KAAKK,SAAU,CAAC,YAAa,eAC7C,EAEA,WAAAzB,GACE,OAAOoB,KAAKC,OAAOQ,QAAQ,qBAAqBT,KAAKa,OAAQ,EAC/D,EAEA,eAAA1B,GACE,MAAO,CACL6B,KAAQ,6BACRC,OAAQ,CACNC,QAASlB,KAAKmB,OAAOF,OAAOC,QAASE,QAAS,OAAQb,SAAU,KAAWc,MAGjF,GAGFC,QAAS,CACP,QAAAjC,CAASC,GACP,MAAMiC,EAAQ,CAAC,OAAQ,QAAS,OAAQ,QAElCC,EAAMD,EAAME,QAAQnC,EAAIoC,YAE9B,OAAc,IAATF,EACI,SAGF,QAASA,EAAM,GACxB,EAEA,IAAAjC,CAAKC,GACHQ,KAAKG,QAAQwB,KAAK,CAChBX,KAAQ,2BACRC,OAAQ,CAAEzB,MACVoC,MAAQ,CAAE,CAAC,KAAO,OAEtB,I,eC9EJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue?8472"],"sourcesContent":["<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\nimport Loading from '@shell/components/Loading';\n\nexport default {\n  components: {\n    SelectIconGrid, Banner, Loading\n  },\n\n  async fetch() {\n    const authProvs = await authProvidersInfo(this.$store);\n\n    if (!!authProvs.enabledLocation) {\n      return this.$router.replace(authProvs.enabledLocation);\n    }\n\n    this['enabled'] = authProvs.enabled;\n    this['nonLocal'] = authProvs.nonLocal;\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by fetch later\n      enabled:  false,\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner\n      v-if=\"!enabled.length\"\n      :label=\"t('authConfig.noneEnabled')\"\n      color=\"info\"\n    >\n      <div>\n        {{ t('authConfig.localEnabled') }}\n        <router-link :to=\"localUsersRoute\">\n          {{ t('authConfig.manageLocal') }}\n        </router-link>\n        <br>\n        {{ t('authConfig.noneEnabled') }}\n      </div>\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=12866334\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","$fetchState","displayName","enabled","length","label","t","color","to","localUsersRoute","rows","colorFor","row","goTo","id","components","SelectIconGrid","Banner","Loading","fetch","authProvs","auth","this","$store","enabledLocation","$router","replace","nonLocal","data","resource","AUTH_CONFIG","getters","inStore","hasListComponent","hasEditComponent","schema","computed","sort","name","params","cluster","$route","product","USER","methods","types","idx","indexOf","configType","push","query","__exports__","render"],"sourceRoot":""}