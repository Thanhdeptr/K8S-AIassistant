(self["webpackChunkui_plugin_examples"]=self["webpackChunkui_plugin_examples"]||[]).push([[7679],{7679:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>z});var o=a(20641),i=a(90033);const r={key:1},l={class:"grid"},s=["data-testid"],n={class:"logo"},c=["alt"],d={class:"name-version"},p={class:"name"},h={key:0,class:"os-label"},g={class:"version"},u={class:"description"},m={class:"description-content"},v={class:"action"},b=["aria-label"],f=["aria-label","onClick"],x=["alt"],k=["aria-label","onClick"],w=["aria-label","onClick"],y={key:2};function C(t,e,a,C,L,A){const W=(0,o.g2)("Loading"),_=(0,o.g2)("TabTitle"),E=(0,o.g2)("TypeDescription"),X=(0,o.g2)("LazyImage"),$=(0,o.g2)("IconMessage"),T=(0,o.gN)("clean-html");return t.$fetchState.pending?((0,o.uX)(),(0,o.Wv)(W,{key:0})):A.options.length?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("h1",null,[(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.t("catalog.tools.header")),1)])),_:1})]),e[7]||(e[7]=(0,o.eW)()),(0,o.bF)(E,{resource:"chart"}),e[8]||(e[8]=(0,o.eW)()),(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(A.options,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.chart.id,class:"item","data-testid":`cluster-tools-app-${a.chart.id}`},[(0,o.Lk)("div",n,[a.chart.iconName?((0,o.uX)(),(0,o.CE)("i",{key:0,class:(0,i.C4)(["icon",a.chart.iconName]),alt:t.t("catalog.tools.iconAlt",{app:a.chart.chartNameDisplay})},null,10,c)):((0,o.uX)(),(0,o.Wv)(X,{key:1,alt:t.t("catalog.tools.iconAlt",{app:a.chart.chartNameDisplay}),src:a.chart.icon},null,8,["alt","src"]))]),e[4]||(e[4]=(0,o.eW)()),(0,o.Lk)("div",d,[(0,o.Lk)("div",null,[(0,o.Lk)("h3",p,(0,i.v_)(a.chart.chartNameDisplay),1),e[0]||(e[0]=(0,o.eW)()),a.chart.deploysOnWindows?((0,o.uX)(),(0,o.CE)("label",h,(0,i.v_)(t.t("catalog.charts.deploysOnWindows")),1)):(0,o.Q3)("",!0)]),e[2]||(e[2]=(0,o.eW)()),(0,o.Lk)("div",g,[a.app&&a.app.upgradeAvailableVersion?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)("\n              v"+(0,i.v_)(a.app.currentVersion)+" ",1),(0,o.Lk)("b",null,[e[1]||(e[1]=(0,o.Lk)("i",{class:"icon icon-chevron-right"},null,-1)),(0,o.eW)(" v"+(0,i.v_)(a.app.upgradeAvailableVersion),1)])],64)):a.app?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)("\n              v"+(0,i.v_)(a.app.currentVersion),1)],64)):a.chart.versions.length?((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.eW)("\n              v"+(0,i.v_)(a.chart.versions[0].version),1)],64)):(0,o.Q3)("",!0)])]),e[5]||(e[5]=(0,o.eW)()),(0,o.Lk)("div",u,[(0,o.bo)((0,o.Lk)("div",m,null,512),[[T,a.chart.chartDescription]])]),e[6]||(e[6]=(0,o.eW)()),(0,o.Lk)("div",v,[a.blocked?(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{key:0,role:"button","aria-label":t.t("catalog.tools.action.install"),disabled:"true",class:"btn btn-sm role-primary"},null,8,b)),[[T,t.t("catalog.tools.action.install")]]):a.app?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("button",{class:"btn btn-sm role-secondary",role:"button","aria-label":t.t("catalog.tools.action.remove"),onClick:t=>A.remove(a.app,t)},[(0,o.Lk)("i",{class:"icon icon-delete icon-lg",alt:t.t("catalog.tools.action.remove")},null,8,x)],8,f),e[3]||(e[3]=(0,o.eW)()),(0,o.bo)((0,o.Lk)("button",{role:"button","aria-label":t.t("catalog.tools.action.edit"),class:"btn btn-sm role-secondary",onClick:t=>A.edit(a.app)},null,8,k),[[T,t.t("catalog.tools.action.edit")]])],64)):(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{key:2,role:"button","aria-label":t.t("catalog.tools.action.install"),class:"btn btn-sm role-primary",onClick:t=>A.install(a.chart)},null,8,w)),[[T,t.t("catalog.tools.action.install")]])])],8,s)))),128))])])):((0,o.uX)(),(0,o.CE)("div",y,[(0,o.bF)($,{icon:"icon-warning","message-key":"catalog.tools.noTools"})]))}var L=a(66278),A=a(38928),W=a(46405),_=a(67130),E=a(55823),X=a(96676),$=a(4684),T=a(62606),F=a(6424),I=a(59839),P=a(95753);const D={components:{LazyImage:$.A,Loading:A.A,IconMessage:F.A,TypeDescription:I.A,TabTitle:P.A},async fetch(){await this.$store.dispatch("catalog/load",{force:!0,reset:!0});const t=this.$route.query;this.showDeprecated="true"===t[W.GQ]||t[W.GQ]===W.Qp,this.showHidden=t[W.RG]===W.Qp,this.allInstalled=await this.$store.dispatch("cluster/findAll",{type:E.W8.APP})},data(){return{allInstalled:null,v1SystemCatalog:null,systemProject:null}},computed:{...(0,L.L8)(["currentCluster"]),...(0,L.L8)({allCharts:"catalog/charts",loadingErrors:"catalog/errors"}),...(0,L.L8)({t:"i18n/t"}),v1Apps(){return this.$store.getters["rancher/all"](E.k$.APP)},namespaces(){return this.$store.getters["activeNamespaceCache"]},rancherCatalog(){return this.$store.getters["catalog/repos"].find((t=>t.isRancher))},installedApps(){return this.allInstalled},installedAppForChart(){const t={};for(const e of this.installedApps||[]){const a=e.matchingCharts()[0];a&&(t[a.id]=e)}return t},options(){const t=this.currentCluster.status.provider||"other",e=this.allCharts||[];let a=(0,_.filterAndArrangeCharts)(e,{clusterProvider:t,showDeprecated:this.showDeprecated,showHidden:this.showHidden,showRepos:[this.rancherCatalog?._key],showTypes:[X.W8._CLUSTER_TOOL]});a=a.filter((t=>"Experimental"!==t.sideLabel));const o=a.map((t=>({chart:t,app:this.installedAppForChart[t.id]})));return o}},watch:{namespaces(){this.systemProject&&this.$store.dispatch("rancher/findAll",{type:E.k$.APP,opt:{url:`/v3/project/${this.systemProject}/apps`,force:!0}})}},mounted(){window.c=this},methods:{edit(t,e){t.goToUpgrade(e,!0)},remove(t,e){const a=(0,T.nN)(e);a?t.remove():t.promptRemove()},install(t){t.goToInstall(W.Rm)},openV1Tool(t){const e=this.$store.getters["currentCluster"],a={name:"c-cluster-explorer-tools-pages-page",params:{cluster:e.id,product:"explorer",page:t}};this.$router.replace(a)}}};a(36001);var N=a(66262);const j=(0,N.A)(D,[["render",C],["__scopeId","data-v-49e6afc6"]]),z=j},14775:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});var o=a(31601),i=a.n(o),r=a(76314),l=a.n(r),s=a(5111),n=l()(i());n.i(s.A),n.push([t.id,'.grid[data-v-49e6afc6]{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}@media only screen and (min-width:480px){.grid .item[data-v-49e6afc6]{width:100%}}@media only screen and (min-width:768px){.grid .item[data-v-49e6afc6]{width:100%}}@media only screen and (min-width:992px){.grid .item[data-v-49e6afc6]{width:calc(50% - 20px)}}@media only screen and (min-width:1281px){.grid .item[data-v-49e6afc6]{width:calc(33.33333% - 20px)}}.grid .item[data-v-49e6afc6]{display:grid;grid-template-areas:"logo name-version name-version" "description description description" "state state action";grid-template-columns:50px auto min-content;grid-template-rows:50px 55px 35px;row-gap:10px;-moz-column-gap:10px;column-gap:10px;margin:10px;padding:10px;position:relative;border:1px solid var(--border);border-radius:calc(var(--border-radius)*1.5)}.grid .item .logo[data-v-49e6afc6]{grid-area:logo;text-align:center;width:50px;height:50px;border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff}.grid .item .logo img[data-v-49e6afc6]{width:46px;height:46px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}.grid .item .logo>i[data-v-49e6afc6]{background-color:var(--box-bg);border-radius:50%;font-size:32px;line-height:50px;width:50px}.grid .item .name-version[data-v-49e6afc6]{grid-area:name-version;padding:10px 0 0 0}.grid .item .name[data-v-49e6afc6]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0}.grid .item .os-label[data-v-49e6afc6]{position:absolute;top:10px;right:10px;padding:3px;font-size:12px;line-height:12px;background-color:var(--primary);color:var(--primary-text)}.grid .item .version[data-v-49e6afc6]{color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:.9em;margin-top:4px}.grid .item .description[data-v-49e6afc6]{grid-area:description}.grid .item .description-content[data-v-49e6afc6]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--text-muted)}.grid .item .state[data-v-49e6afc6]{grid-area:state}.grid .item .action[data-v-49e6afc6]{grid-area:action;white-space:nowrap}.grid .item .action button[data-v-49e6afc6]{height:30px}',""]);const c=n},36001:(t,e,a)=>{var o=a(14775);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var i=a(99548).A;i("fb06b6fa",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=7679.efd74cbb.js.map