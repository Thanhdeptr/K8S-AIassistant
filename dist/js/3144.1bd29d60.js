(self["webpackChunkui_plugin_examples"]=self["webpackChunkui_plugin_examples"]||[]).push([[3144],{65189:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});const o="pageActions",s={created(){this.updatePageActions();const e=e=>{this.handlePageAction&&this.handlePageAction(e)};this.$store.commit("pageActionHandler",e)},beforeUnmount(){this.pageActions&&this.$store.commit(o,[]),this.$store.commit("clearPageActionHandler")},methods:{updatePageActions(){this.pageActions&&this.$store.commit(o,this.pageActions)}},watch:{pageActions(e,t){this.updatePageActions()}}}},55446:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var o=a(20641),s=a(53751),r=a(90033);const n={key:0},i=["aria-label"],l={"data-testid":"locale-selector",class:"locale-chooser"},c={key:0,class:"icon icon-fw icon-sort-down"},d={class:"list-unstyled dropdown",style:{margin:"-1px"}},u=["lang","onClick","onKeyup"],p={key:1};function h(e,t,a,h,g,v){const m=(0,o.g2)("v-dropdown"),f=(0,o.g2)("Select"),b=(0,o.gN)("t");return(0,o.uX)(),(0,o.CE)("div",null,["login"===a.mode?((0,o.uX)(),(0,o.CE)("div",n,[v.showLocale?((0,o.uX)(),(0,o.CE)("div",{key:0,role:"menu","aria-label":e.t("locale.menu"),class:"locale-login-container",tabindex:"0",onClick:t[3]||(t[3]=(...e)=>v.openLocaleSelector&&v.openLocaleSelector(...e)),onBlurCapture:t[4]||(t[4]=(...e)=>v.closeLocaleSelector&&v.closeLocaleSelector(...e)),onKeyup:[t[5]||(t[5]=(0,s.jR)(((...e)=>v.openLocaleSelector&&v.openLocaleSelector(...e)),["enter"])),t[6]||(t[6]=(0,s.jR)(((...e)=>v.openLocaleSelector&&v.openLocaleSelector(...e)),["space"]))]},[(0,o.bF)(m,{popperClass:"localeSelector",shown:g.isLocaleSelectorOpen,placement:"top",distance:"8",skidding:"12",triggers:[],autoHide:!1,flip:!1,container:!1,onFocusCapture:v.openLocaleSelector},{popper:(0,o.k6)((()=>[(0,o.Lk)("ul",d,[v.showNone?(0,o.bo)(((0,o.uX)(),(0,o.CE)("li",{key:0,class:"hand",tabindex:"0",role:"menuitem",onClick:t[0]||(t[0]=(0,s.D$)((e=>v.switchLocale("none")),["stop"])),onKeyup:[t[1]||(t[1]=(0,s.jR)((0,s.D$)((e=>v.switchLocale("none")),["stop"]),["enter"])),t[2]||(t[2]=(0,s.jR)((0,s.D$)((e=>v.switchLocale("none")),["stop"]),["space"]))]},null,544)),[[b,"locale.none"]]):(0,o.Q3)("",!0),t[8]||(t[8]=(0,o.eW)()),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.availableLocales,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t,tabindex:"0",role:"menuitem",class:"hand",lang:t,onClick:(0,s.D$)((e=>v.switchLocale(t)),["stop"]),onKeyup:[(0,s.jR)((0,s.D$)((e=>v.switchLocale(t)),["stop"]),["enter"]),(0,s.jR)((0,s.D$)((e=>v.switchLocale(t)),["stop"]),["space"])]},(0,r.v_)(e),41,u)))),128))])])),default:(0,o.k6)((()=>[(0,o.Lk)("a",l,[(0,o.eW)((0,r.v_)(e.selectedLocaleLabel)+" ",1),a.showIcon?((0,o.uX)(),(0,o.CE)("i",c)):(0,o.Q3)("",!0)]),t[9]||(t[9]=(0,o.eW)())])),_:1,__:[9]},8,["shown","onFocusCapture"])],40,i)):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",p,[(0,o.bF)(f,{value:v.selectedOption,options:v.localesOptions,"is-lang-select":!0,"onUpdate:value":t[7]||(t[7]=e=>v.switchLocale(e))},null,8,["value","options"])]))])}var g=a(66278),v=a(360);const m={name:"LocalSelector",components:{Select:v.A},props:{mode:{type:String,default:""},showIcon:{type:Boolean,default:!0}},data(){return{isLocaleSelectorOpen:!1}},computed:{...(0,g.L8)("i18n",["selectedLocaleLabel","availableLocales"]),localesOptions(){return Object.keys(this.availableLocales).map((e=>({label:this.t(`locale.${e}`),value:e})))},selectedOption(){return Object.keys(this.availableLocales)[Object.values(this.availableLocales).indexOf(this.selectedLocaleLabel)]},showLocale(){return this.availableLocales&&Object.keys(this.availableLocales).length>1||this.dev},showNone(){return!1}},methods:{openLocaleSelector(){this.isLocaleSelectorOpen=!0},closeLocaleSelector(){this.isLocaleSelectorOpen=!1},switchLocale(e){this.$store.dispatch("i18n/switchTo",e),this.closeLocaleSelector()}}};a(72053);var f=a(66262);const b=(0,f.A)(m,[["render",h],["__scopeId","data-v-79068706"]]),y=b},73144:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Pe});var o=a(20641),s=a(90033);const r={class:"dashboard-root"},n={key:1,class:"main-layout"},i={key:2,class:"main-layout"},l=["draggable"];function c(e,t,a,c,d,u){const p=(0,o.g2)("FixedBanner"),h=(0,o.g2)("AwsComplianceBanner"),g=(0,o.g2)("AzureWarning"),v=(0,o.g2)("Header"),m=(0,o.g2)("SideNav"),f=(0,o.g2)("router-view"),b=(0,o.g2)("ActionMenu"),y=(0,o.g2)("PromptRemove"),k=(0,o.g2)("PromptRestore"),S=(0,o.g2)("AssignTo"),L=(0,o.g2)("PromptModal"),x=(0,o.g2)("WindowManager"),w=(0,o.g2)("GrowlManager"),A=(0,o.g2)("Inactivity"),R=(0,o.g2)("DraggableZone"),C=(0,o.gN)("shortkey");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(p,{header:!0}),t[19]||(t[19]=(0,o.eW)()),e.managementReady?((0,o.uX)(),(0,o.Wv)(h,{key:0})):(0,o.Q3)("",!0),t[20]||(t[20]=(0,o.eW)()),e.managementReady?((0,o.uX)(),(0,o.Wv)(g,{key:1})):(0,o.Q3)("",!0),t[21]||(t[21]=(0,o.eW)()),e.managementReady?((0,o.uX)(),(0,o.CE)("div",{key:2,class:(0,s.C4)(["dashboard-content",{[u.pinClass]:!0,"dashboard-padding-left":e.showTopLevelMenu}])},[(0,o.bF)(v),t[16]||(t[16]=(0,o.eW)()),e.clusterReady?((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"default-side-nav"})):(0,o.Q3)("",!0),t[17]||(t[17]=(0,o.eW)()),u.clusterAndRouteReady?((0,o.uX)(),(0,o.CE)("main",n,[((0,o.uX)(),(0,o.Wv)(f,{key:e.$route.path,class:"outlet"})),t[7]||(t[7]=(0,o.eW)()),(0,o.bF)(b),t[8]||(t[8]=(0,o.eW)()),(0,o.bF)(y),t[9]||(t[9]=(0,o.eW)()),(0,o.bF)(k),t[10]||(t[10]=(0,o.eW)()),(0,o.bF)(S),t[11]||(t[11]=(0,o.eW)()),(0,o.bF)(L),t[12]||(t[12]=(0,o.eW)()),d.noLocaleShortcut?(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{key:0,class:"hide",onShortkey:t[0]||(t[0]=e=>u.toggleNoneLocale())},null,544)),[[C,["shift","l"],void 0,{once:!0}]]):(0,o.Q3)("",!0),t[13]||(t[13]=(0,o.eW)()),u.themeShortcut?(0,o.bo)(((0,o.uX)(),(0,o.CE)("button",{key:1,class:"hide",onShortkey:t[1]||(t[1]=e=>u.toggleTheme())},null,544)),[[C,["shift","t"],void 0,{once:!0}]]):(0,o.Q3)("",!0),t[14]||(t[14]=(0,o.eW)()),(0,o.bo)((0,o.Lk)("button",{class:"hide",onShortkey:t[2]||(t[2]=e=>u.wheresMyDebugger())},null,544),[[C,["f8"],void 0,{once:!0}]]),t[15]||(t[15]=(0,o.eW)()),(0,o.bo)((0,o.Lk)("button",{class:"hide",onShortkey:t[3]||(t[3]=(...e)=>u.toggleShell&&u.toggleShell(...e))},null,544),[[C,["`"],void 0,{once:!0}]])])):u.unmatchedRoute?((0,o.uX)(),(0,o.CE)("main",i,[((0,o.uX)(),(0,o.Wv)(f,{key:e.$route.path,class:"outlet"}))])):(0,o.Q3)("",!0),t[18]||(t[18]=(0,o.eW)()),e.$refs.draggableZone?((0,o.uX)(),(0,o.CE)("div",{key:3,class:(0,s.C4)(["wm",{"drag-end":!e.$refs.draggableZone.drag.active,"drag-start":e.$refs.draggableZone.drag.active}]),draggable:d.draggable,onDragstart:t[5]||(t[5]=t=>e.$refs.draggableZone.onDragStart(t)),onDragend:t[6]||(t[6]=t=>e.$refs.draggableZone.onDragEnd(t))},[(0,o.bF)(x,{onDraggable:t[4]||(t[4]=e=>d.draggable=e)})],42,l)):(0,o.Q3)("",!0)],2)):(0,o.Q3)("",!0),t[22]||(t[22]=(0,o.eW)()),(0,o.bF)(p,{footer:!0}),t[23]||(t[23]=(0,o.eW)()),(0,o.bF)(w),t[24]||(t[24]=(0,o.eW)()),(0,o.bF)(A),t[25]||(t[25]=(0,o.eW)()),(0,o.bF)(R,{ref:"draggableZone"},null,512)])}var d=a(66278),u=a(86691),p=a(86311),h=a(91474),g=a(22669),v=a(29238);const m={class:"text-default-text"},f={class:"pl-10 pr-10"},b={key:0},y={class:"dialog-actions"};function k(e,t,a,r,n,i){const l=(0,o.g2)("LabeledSelect"),c=(0,o.g2)("Date"),d=(0,o.g2)("RadioGroup"),u=(0,o.g2)("AsyncButton"),p=(0,o.g2)("Banner"),h=(0,o.g2)("Card"),g=(0,o.g2)("app-modal"),v=(0,o.gN)("clean-html"),k=(0,o.gN)("t");return n.loaded?((0,o.uX)(),(0,o.Wv)(g,{key:0,"custom-class":"promptrestore-modal",name:"promptRestore",styles:"background-color: var(--nav-bg); border-radius: var(--border-radius); max-height: 100vh;",height:"auto",scrollable:!0,onClose:i.close},{default:(0,o.k6)((()=>[n.loaded?((0,o.uX)(),(0,o.Wv)(h,{key:0,class:"prompt-restore","show-highlight-border":!1},{title:(0,o.k6)((()=>[(0,o.bo)((0,o.Lk)("h4",m,null,512),[[v,e.t("promptRestore.title",null,!0)]])])),body:(0,o.k6)((()=>[(0,o.Lk)("div",f,[(0,o.Lk)("form",null,[(0,o.bo)((0,o.Lk)("h3",null,null,512),[[k,"promptRestore.name"]]),t[3]||(t[3]=(0,o.eW)()),i.isCluster?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",b,(0,s.v_)(i.snapshot.nameDisplay),1)),t[4]||(t[4]=(0,o.eW)()),i.isCluster?((0,o.uX)(),(0,o.Wv)(l,{key:1,value:n.selectedSnapshot,"onUpdate:value":t[0]||(t[0]=e=>n.selectedSnapshot=e),label:e.t("promptRestore.label"),placeholder:e.t("promptRestore.placeholder"),options:i.clusterSnapshots},null,8,["value","label","placeholder","options"])):(0,o.Q3)("",!0),t[5]||(t[5]=(0,o.eW)()),t[6]||(t[6]=(0,o.Lk)("div",{class:"spacer"},null,-1)),t[7]||(t[7]=(0,o.eW)()),(0,o.bo)((0,o.Lk)("h3",null,null,512),[[k,"promptRestore.date"]]),t[8]||(t[8]=(0,o.eW)()),(0,o.Lk)("div",null,[(0,o.Lk)("p",null,[i.snapshot?((0,o.uX)(),(0,o.Wv)(c,{key:0,value:i.snapshot.createdAt||i.snapshot.created||i.snapshot.metadata.creationTimestamp},null,8,["value"])):(0,o.Q3)("",!0)])]),t[9]||(t[9]=(0,o.eW)()),t[10]||(t[10]=(0,o.Lk)("div",{class:"spacer"},null,-1)),t[11]||(t[11]=(0,o.eW)()),(0,o.bF)(d,{value:n.restoreMode,"onUpdate:value":t[1]||(t[1]=e=>n.restoreMode=e),name:"restoreMode",label:"Restore Type",labels:["Only etcd","Kubernetes version and etcd","Cluster config, Kubernetes version and etcd"],options:i.restoreModeOptions},null,8,["value","options"])])])])),actions:(0,o.k6)((()=>[(0,o.Lk)("div",y,[(0,o.Lk)("button",{class:"btn role-secondary",onClick:t[2]||(t[2]=(...e)=>i.close&&i.close(...e))},(0,s.v_)(e.t("generic.cancel")),1),t[12]||(t[12]=(0,o.eW)()),(0,o.bF)(u,{mode:"restore",disabled:!i.hasSnapshot,onClick:i.apply},null,8,["disabled","onClick"]),t[13]||(t[13]=(0,o.eW)()),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.errors,((e,t)=>((0,o.uX)(),(0,o.Wv)(p,{key:t,color:"error",label:e},null,8,["label"])))),128))])])),_:1,__:[14,15]})):(0,o.Q3)("",!0)])),_:1},8,["onClose"])):(0,o.Q3)("",!0)}var S=a(97671),L=a(75672),x=a(14492),w=a(36124),A=a(70869),R=a(61172),C=a(37447),$=a(55823),P=a(6826),E=a(88198),W=a(72140),_=a(74353),M=a.n(_),I=a(18561),T=a(33852),D=a(53818);const F={components:{Card:L.Z,AsyncButton:S.A,Banner:x.l,Date:w["default"],LabeledSelect:R.A,RadioGroup:A.A,AppModal:D.h},name:"PromptRestore",mixins:[E.Ay],data(){return{errors:[],labels:{},restoreMode:"all",loaded:!1,allSnapshots:{},sortedSnapshots:[],selectedSnapshot:null}},computed:{...(0,d.aH)("action-menu",["showPromptRestore","toRestore"]),...(0,d.L8)({t:"i18n/t"}),isCluster(){const e=this.toRestore[0]?.type.toLowerCase()===$.k$.ETCD_BACKUP||this.toRestore[0]?.type.toLowerCase()===$.xO;return!e},snapshot(){return this.isCluster?this.allSnapshots[this.selectedSnapshot]:this.toRestore[0]},hasSnapshot(){return!!this.snapshot},isRke2(){return!!this.snapshot?.rke2},clusterSnapshots(){return this.sortedSnapshots?this.sortedSnapshots.map((e=>({label:this.snapshotLabel(e),value:e.name}))):[]},restoreModeOptions(){const e=this.isRke2?"none":"etcd";return[e,"kubernetesVersion","all"]}},watch:{async showPromptRestore(e){e?(this.loaded=!0,await this.fetchSnapshots(),this.selectDefaultSnapshot()):this.loaded=!1}},methods:{close(){this.errors=[],this.labels={},this.$store.commit("action-menu/togglePromptRestore"),this.selectedSnapshot=null},async fetchSnapshots(){if(!this.isCluster)return;const e=this.toRestore?.[0];let t;t=e?.isRke2?this.$store.dispatch("management/findAll",{type:$.xO}).then((t=>{const a=e?.clusterName||e?.metadata?.name;return t.filter((e=>e?.snapshotFile?.status===T.jv.SUCCESSFUL&&e.clusterName===a))})):this.$store.dispatch("rancher/findAll",{type:$.k$.ETCD_BACKUP}).then((t=>t.filter((t=>t.state===T.jv.ACTIVE&&t.clusterId===e.metadata.name))));const a=await t.then((e=>e.reduce(((e,t)=>(e[t.name]=t,e)),{}))).catch((e=>{this.errors=(0,C.rz)(e)}));this.allSnapshots=a,this.sortedSnapshots=(0,I.Ul)(Object.values(this.allSnapshots),["snapshotFile.createdAt","created","metadata.creationTimestamp"],!0)},selectDefaultSnapshot(){if(this.selectedSnapshot)return;const e=this.toRestore[0]?.type===$.xO?this.toRestore[0].name:this.clusterSnapshots[0]?.value;this["selectedSnapshot"]=e},async apply(e){try{if(this.isRke2){const e=this.$store.getters["management/byId"]($.qt.RANCHER_CLUSTER,this.snapshot.clusterId);await this.applyHooks(E.Fm);const t=e.spec?.rkeConfig?.etcdSnapshotRestore?.generation||0;(0,P.set)(e,"spec.rkeConfig.etcdSnapshotRestore",{generation:t+1,name:this.snapshot.name,restoreRKEConfig:this.restoreMode}),await e.save()}else await this.$store.dispatch("rancher/request",{url:`/v3/clusters/${escape(this.snapshot.clusterId)}?action=restoreFromEtcdBackup`,method:"post",data:{etcdBackupId:this.snapshot.id,restoreRkeConfig:this.restoreMode}});this.$store.dispatch("growl/success",{title:this.t("promptRestore.notification.title"),message:this.t("promptRestore.notification.message",{selectedSnapshot:this.selectedSnapshot})},{root:!0}),e(!0),this.close()}catch(t){this.errors=(0,C.rz)(t),e(!1)}},snapshotLabel(e){const t=(0,W.ZD)(this.$store.getters["prefs/get"](u.DATE_FORMAT)),a=(0,W.ZD)(this.$store.getters["prefs/get"](u.TIME_FORMAT)),o=e.createdAt||e.created||e.metadata.creationTimestamp,s=M()(o).format(t),r=M()(o).format(a);return`${s} ${r} : ${e.nameDisplay}`}}};a(89603);var N=a(66262);const X=(0,N.A)(F,[["render",k],["__scopeId","data-v-6f5f3f7c"]]),O=X;var G=a(63525),Q=a(99477),U=a(19607),V=a(37499),H=a(8243),z=a(57750),j=a(57600),B=a(64414);const K={key:0};function Z(e,t,a,r,n,i){return e.drag.active?((0,o.uX)(),(0,o.CE)("div",K,[e.drag.zone!=e.pin?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,s.C4)(["pin-effect-area",e.drag.zone])},null,2)):(0,o.Q3)("",!0),t[4]||(t[4]=(0,o.eW)()),(0,o.Lk)("span",{class:"drag-area center",onDragover:t[0]||(t[0]=t=>e.onDragOver(t,"center"))},null,32),t[5]||(t[5]=(0,o.eW)()),(0,o.Lk)("span",{class:"drag-area right",onDragover:t[1]||(t[1]=t=>e.onDragOver(t,"right"))},null,32),t[6]||(t[6]=(0,o.eW)()),(0,o.Lk)("span",{class:"drag-area bottom",onDragover:t[2]||(t[2]=t=>e.onDragOver(t,"bottom"))},null,32),t[7]||(t[7]=(0,o.eW)()),(0,o.Lk)("span",{class:"drag-area left",onDragover:t[3]||(t[3]=t=>e.onDragOver(t,"left"))},null,32)])):(0,o.Q3)("",!0)}var q=a(93914);const Y=(0,o.pM)({data(){return{drag:{active:!1,zone:q.Q7}}},computed:{...(0,d.aH)("wm",["userPin"]),pin:{get(){return this.userPin},set(e){e!==q.Q7&&(window.localStorage.setItem("wm-pin",e),this.$store.commit("wm/setUserPin",e))}}},methods:{onDragStart(){this.drag.active=!0},onDragOver(e,t){this.drag.zone=t,t!==q.Q7&&e.preventDefault()},onDragEnd(){this.pin=this.drag.zone,this.drag={active:!1,zone:q.Q7}}}});a(42361);const J=(0,N.A)(Y,[["render",Z],["__scopeId","data-v-72b4aeb6"]]),ee=J;var te=a(75317),ae=a(65189),oe=a(78437),se=a(65524);const re={class:"side-nav"},ne={class:"nav"},ie={key:0,class:"footer"},le={class:"clip version text-muted"},ce={key:1,class:"version text-muted flex"},de={key:0,class:"clip text-muted ml-5"};function ue(e,t,a,r,n,i){const l=(0,o.g2)("Group"),c=(0,o.g2)("router-link"),d=(0,o.g2)("LocaleSelector"),u=(0,o.gN)("clean-tooltip");return(0,o.uX)(),(0,o.CE)("nav",re,[(0,o.Lk)("div",ne,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.groups,(e=>((0,o.uX)(),(0,o.Wv)(l,{key:e.name,ref_for:!0,ref:"groups","id-prefix":"",class:"package",group:e,"can-collapse":!e.isRoot,"show-header":!e.isRoot,onSelected:t[0]||(t[0]=e=>i.groupSelected(e)),onExpand:t[1]||(t[1]=e=>i.groupSelected(e))},null,8,["group","can-collapse","show-header"])))),128))]),t[4]||(t[4]=(0,o.eW)()),i.showProductFooter?((0,o.uX)(),(0,o.CE)("div",ie,[(0,o.bF)(c,{to:i.supportLink,class:"pull-right",role:"link","aria-label":e.t("nav.support",{hasSupport:!0})},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.t("nav.support",{hasSupport:!0})),1)])),_:1},8,["to","aria-label"]),t[2]||(t[2]=(0,o.eW)()),(0,o.bo)(((0,o.uX)(),(0,o.CE)("span",le,[(0,o.eW)((0,s.v_)(i.displayVersion),1)])),[[u,{content:i.displayVersion,placement:"top"}]]),t[3]||(t[3]=(0,o.eW)()),e.isSingleProduct&&e.hasMultipleLocales&&!e.isStandaloneHarvester?((0,o.uX)(),(0,o.Wv)(d,{key:0,mode:"login","show-icon":!1})):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",ce,[i.singleProductAbout?((0,o.uX)(),(0,o.Wv)(c,{key:0,to:i.singleProductAbout,role:"link","aria-label":e.t("nav.ariaLabel.productAboutPage")},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(i.displayVersion),1)])),_:1},8,["to","aria-label"])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[e.isVirtualCluster&&e.isExplorer?(0,o.bo)(((0,o.uX)(),(0,o.CE)("span",de,[(0,o.eW)("\n          (Harvester-"+(0,s.v_)(i.harvesterVersion)+")\n        ",1)])),[[u,{content:i.harvesterVersion,placement:"top"}]]):(0,o.Q3)("",!0)],64))]))])}var pe=a(38221),he=a.n(pe),ge=a(2404),ve=a.n(ge),me=a(65843),fe=a(71883),be=a(18727),ye=a(84010),ke=a(29066),Se=a(8589),Le=a(55446);const xe={name:"SideNav",components:{Group:Se.A,LocaleSelector:Le.A},data(){return{groups:[],gettingGroups:!1}},created(){this.queueUpdate=he()(this.getGroups,500),this.getGroups()},mounted(){this.$nextTick((()=>this.syncNav()))},watch:{allSchemasIds(e,t){(0,me.P1)(e,t)||this.queueUpdate()},allNavLinksIds(e,t){(0,me.P1)(e,t)||this.queueUpdate()},favoriteTypes(e,t){ve()(e,t)||this.queueUpdate()},locale(e,t){ve()(e,t)||this.getGroups()},namespaceMode(e,t){e!==t&&this.queueUpdate()},namespaces(e,t){ve()(e,t)||this.queueUpdate()},clusterReady(e,t){ve()(e,t)||this.getGroups()},rootProduct(e,t){e?.name!==t?.name&&this.getGroups()},$route(e,t){this.$nextTick((()=>this.syncNav()))}},computed:{...(0,d.aH)(["managementReady","clusterReady"]),...(0,d.L8)(["isStandaloneHarvester","productId","clusterId","currentProduct","rootProduct","isSingleProduct","namespaceMode","isExplorer","isVirtualCluster"]),...(0,d.L8)({locale:"i18n/selectedLocaleLabel",hasMultipleLocales:"i18n/hasMultipleLocales"}),...(0,d.L8)("type-map",["activeProducts"]),favoriteTypes:(0,u.mapPref)(u.FAVORITE_TYPES),supportLink(){const e=this.rootProduct;return e?.supportRoute?{...e.supportRoute,params:{...e.supportRoute.params,cluster:this.clusterId}}:{name:`c-cluster-${e?.name}-support`}},displayVersion(){if(this.isSingleProduct?.getVersionInfo)return this.isSingleProduct?.getVersionInfo(this.$store);const{displayVersion:e}=(0,te.hQ)(this.$store);return e},singleProductAbout(){return this.isSingleProduct?.aboutPage},harvesterVersion(){return this.$store.getters["cluster/byId"]($.rk.SETTING,"server-version")?.value||"unknown"},showProductFooter(){return!!this.isVirtualProduct},isVirtualProduct(){return this.rootProduct.name===fe.T3},allNavLinks(){return this.clusterId&&this.$store.getters["cluster/schemaFor"]($.UI.NAV_LINK)?this.$store.getters["cluster/all"]($.UI.NAV_LINK):[]},allSchemasIds(){const e=this.managementReady,t=this.currentProduct;return e&&t?this.$store.getters[`${t.inStore}/all`]($.yx).map((e=>e.id)).sort():[]},namespaces(){return this.$store.getters["activeNamespaceCache"]},allNavLinksIds(){return this.allNavLinks.map((e=>e.id))}},methods:{getGroups(){if(this.gettingGroups)return;if(this.gettingGroups=!0,!this.clusterReady)return(0,me.IU)(this.groups),void(this.gettingGroups=!1);const e=this.$store.getters["productId"],t="both",a=[],o=this.isExplorer?[be.NAME]:[],s=this.activeProducts.reduce(((e,t)=>({...e,[t.name]:t})),{});if(this.isExplorer)for(const r of this.activeProducts)"cluster"===r.inStore&&(0,me.PG)(o,r.name);(0,me.PG)(o,e),this.getProductsGroups(a,o,t,s),this.getExplorerGroups(a),(0,me.bG)(this.groups,...(0,I.Ul)(a,["weight:desc","label"])),this.gettingGroups=!1},getProductsGroups(e,t,a,o){const s=this.$store.getters["clusterId"],r=this.$route.params.resource||"";for(const n of t){const t=[ye.TYPE_MODES.BASIC];if(n===ke.NAME)continue;n===be.NAME&&(t.push(ye.TYPE_MODES.FAVORITE),t.push(ye.TYPE_MODES.USED));const i=this.$store.getters["type-map/allTypes"](n,t);for(const l of t){const t=i[l]||{},c=this.$store.getters["type-map/getTree"](n,l,t,s,a,r);if(n!==be.NAME&&this.isExplorer){const t=c.find((e=>"root"===e.name)),a=c.filter((e=>"root"!==e.name)),s={name:n,label:this.$store.getters["i18n/withFallback"](`product.${n}`,null,(0,W.TF)(n)),children:[...t?.children||[],...a],weight:o[n]?.weight||0};(0,me.PG)(e,s)}else(0,me.cn)(e,c)}}},getExplorerGroups(e){if(this.isExplorer){const t=this.allNavLinks,a=[],o={};for(const e of t){if(!e.link)continue;const t=e.spec.group,s=e.normalizedGroup,r={name:`link-${e._key}`,link:e.link,target:e.actualTarget,label:e.labelDisplay,sideLabel:e.spec.sideLabel,iconSrc:e.spec.iconSrc,description:e.spec.description};if(s){if(o[s])continue;o[s]=!0,a.push({name:`navlink-group-${s}`,label:t,isRoot:!0,children:[{name:`navlink-child-${s}`,label:t,route:{name:"c-cluster-navlinks-group",params:{cluster:this.clusterId,group:s}}}],weight:-100})}else a.push({name:`navlink-${r.name}`,label:r.label,isRoot:!0,children:[r],weight:-100})}(0,me.cn)(e,a)}},groupSelected(e){this.$refs.groups.forEach((t=>{t.canCollapse&&(t.isExpanded=t.group.name===e.name)}))},collapseAll(){this.$refs.groups.forEach((e=>{e.isExpanded=!1}))},syncNav(){const e=this.$refs.groups;if(e){let t=!0;const a=e.filter((e=>e.isExpanded))[0];if(a&&a.hasActiveRoute())return void this.$nextTick((()=>a.syncNav()));e.forEach((e=>{if(!e.group.isRoot&&(e.isExpanded=!1,t)){const a=e.hasActiveRoute();a&&(e.isExpanded=!0,t=!1,this.$nextTick((()=>e.syncNav())))}}))}}}};a(95160);const we=(0,N.A)(xe,[["render",ue],["__scopeId","data-v-16f73b5c"]]),Ae=we,Re="set-as-login",Ce={components:{PromptRemove:v.A,PromptRestore:O,AssignTo:Q.A,PromptModal:G.A,Header:U.A,ActionMenu:p.A,GrowlManager:h.A,WindowManager:g["default"],FixedBanner:z.A,AwsComplianceBanner:j.A,AzureWarning:B.A,DraggableZone:ee,Inactivity:V.A,SideNav:Ae},mixins:[ae.A,H.A,oe.A],data(){return{noLocaleShortcut:!1,wantNavSync:!1,unwatchPin:void 0,wmPin:null,draggable:!1}},computed:{...(0,d.aH)(["managementReady","clusterReady"]),...(0,d.L8)(["clusterId","currentProduct","rootProduct","isRancherInHarvester","showTopLevelMenu"]),afterLoginRoute:(0,u.mapPref)(u.AFTER_LOGIN_ROUTE),themeShortcut:(0,u.mapPref)(u.THEME_SHORTCUT),pageActions(){const e=[],t=this.rootProduct;if(!t)return[];const a="cluster"===t.inStore||"management"===t.inStore&&"configuration"!==t.category||this.isRancherInHarvester;return a&&e.push({label:this.t("nav.header.setLoginPage"),action:Re}),e},unmatchedRoute(){return!this.$route?.matched?.length},clusterAndRouteReady(){const e=this.$store.getters["targetRoute"],t=e?this.currentProduct?.name===(0,se.P)(this.$route)&&this.currentProduct?.name===(0,se.P)(e):this.currentProduct?.name===(0,se.P)(this.$route);return this.clusterReady&&this.clusterId===(0,se.Ij)(this.$route)&&t},pinClass(){return`pin-${this.wmPin}`}},mounted(){this.wmPin=window.localStorage.getItem("wm-pin")||q._N,this.$refs.draggableZone.pin=this.wmPin,this.unwatchPin=this.$watch("$refs.draggableZone.pin",(e=>{this.wmPin=e}))},unmounted(){this.unwatchPin()},methods:{handlePageAction(e){e.action===Re&&(this.afterLoginRoute=this.getLoginRoute(),(0,te.FM)(this.$store))},getLoginRoute(){return{name:this.$route.name,params:this.$route.params}},toggleNoneLocale(){this.$store.dispatch("i18n/toggleNone")},toggleTheme(){this.$store.dispatch("prefs/toggleTheme")},wheresMyDebugger(){},async toggleShell(){const e=this.$route.params.cluster;if(!e)return;const t=await this.$store.dispatch("management/find",{type:$.Mc.CLUSTER,id:e});t&&t.openShell()}}},$e=(0,N.A)(Ce,[["render",c]]),Pe=$e},43787:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var o=a(31601),s=a.n(o),r=a(76314),n=a.n(r),i=a(5111),l=n()(s());l.i(i.A),l.push([e.id,".pin-effect-area[data-v-72b4aeb6]{position:absolute;z-index:997;width:0;height:0;border-style:hidden}.pin-effect-area.right[data-v-72b4aeb6]{right:0;background-image:linear-gradient(to right,var(--drag-over-outer-bg),var(--drag-over-inner-bg));border-left:1px;border-style:hidden hidden hidden dashed}.pin-effect-area.left[data-v-72b4aeb6],.pin-effect-area.right[data-v-72b4aeb6]{top:55px;width:300px;transition:width .5s ease;height:100%}.pin-effect-area.left[data-v-72b4aeb6]{left:0;background-image:linear-gradient(to left,var(--drag-over-outer-bg),var(--drag-over-inner-bg));border-right:1px;border-style:hidden dashed hidden hidden}.pin-effect-area.bottom[data-v-72b4aeb6]{bottom:0;height:270px;transition:height .5s ease;width:100%;background-image:linear-gradient(to top,var(--drag-over-inner-bg),var(--drag-over-outer-bg));border-top:1px;border-style:dashed hidden hidden hidden}.drag-area[data-v-72b4aeb6],.pin-effect-area.center[data-v-72b4aeb6]{width:0;height:0}.drag-area[data-v-72b4aeb6]{position:absolute;z-index:999;opacity:0}.drag-area.center[data-v-72b4aeb6]{top:0;right:0;width:100%;height:100%;z-index:998}.drag-area.right[data-v-72b4aeb6]{top:55px;right:0;width:300px;height:100%}.drag-area.left[data-v-72b4aeb6]{top:55px;left:0;width:300px;height:100%}.drag-area.bottom[data-v-72b4aeb6]{bottom:0;height:270px;width:100%}",""]);const c=l},85515:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var o=a(31601),s=a.n(o),r=a(76314),n=a.n(r),i=a(5111),l=n()(s());l.i(i.A),l.push([e.id,".advanced[data-v-79068706]{-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 5px;line-height:40px;font-size:15px;font-weight:500}.content[data-v-79068706]{background:var(--nav-active);padding:10px;margin-top:6px;border-radius:4px}.hand[data-v-79068706]:focus-visible{outline:2px solid var(--primary-keyboard-focus);outline-offset:4px}.locale-chooser[data-v-79068706]{cursor:pointer}.locale-chooser[data-v-79068706]:hover{text-decoration:none}.locale-login-container[data-v-79068706]:focus-visible{outline:2px solid var(--primary-keyboard-focus);outline-offset:2px}",""]);const c=l},9841:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var o=a(31601),s=a.n(o),r=a(76314),n=a.n(r),i=a(5111),l=n()(s());l.i(i.A),l.push([e.id,".promptrestore-modal[data-v-6f5f3f7c]{border-radius:var(--border-radius);overflow:scroll;max-height:100vh}.promptrestore-modal[data-v-6f5f3f7c] ::-webkit-scrollbar-corner{background:transparent}.promptrestore-modal .prompt-restore form p[data-v-6f5f3f7c]{min-height:16px}.promptrestore-modal .dialog-actions[data-v-6f5f3f7c]{display:flex;justify-content:flex-end}.prompt-restore[data-v-6f5f3f7c]  .card-wrap .card-actions{display:block}.prompt-restore[data-v-6f5f3f7c]  .card-wrap .card-actions button:not(:last-child){margin-right:10px}.prompt-restore[data-v-6f5f3f7c]  .card-wrap .card-actions .banner{display:flex}",""]);const c=l},37582:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var o=a(31601),s=a.n(o),r=a(76314),n=a.n(r),i=a(5111),l=n()(s());l.i(i.A),l.push([e.id,".side-nav[data-v-16f73b5c]{display:flex;flex-direction:column;position:relative;background-color:var(--nav-bg);border-right:var(--nav-border-size) solid var(--nav-border);overflow-y:auto}.side-nav .nav[data-v-16f73b5c]{flex:1;overflow-y:auto}.side-nav[data-v-16f73b5c]  h6{margin:0;letter-spacing:normal;line-height:15px}.side-nav[data-v-16f73b5c]  h6 A{padding-left:0}.side-nav .tools[data-v-16f73b5c]{display:flex;margin:10px;text-align:center}.side-nav .tools A[data-v-16f73b5c]{align-items:center;border:1px solid var(--border);border-radius:5px;color:var(--body-text);display:flex;justify-content:center;outline:0;flex:1;padding:10px}.side-nav .tools A[data-v-16f73b5c]:hover{background:var(--nav-hover);text-decoration:none}.side-nav .tools A>I[data-v-16f73b5c]{margin-right:4px}.side-nav .tools.router-link-active:not(:hover) A[data-v-16f73b5c]{background-color:var(--nav-active)}.side-nav .version[data-v-16f73b5c]{cursor:default;margin:0 10px 10px 10px}.side-nav .footer[data-v-16f73b5c]{margin:20px;display:flex;flex:0;flex-direction:row}.side-nav .footer[data-v-16f73b5c]>*{flex:1;color:var(--link);text-align:center}.side-nav .footer[data-v-16f73b5c]>:last-child{text-align:right}.side-nav .footer[data-v-16f73b5c]>:first-child{text-align:left}.side-nav .footer .version[data-v-16f73b5c]{cursor:default;margin:0}.side-nav .footer .locale-chooser[data-v-16f73b5c]{cursor:pointer}.flex[data-v-16f73b5c]{display:flex}",""]);const c=l},42361:(e,t,a)=>{var o=a(43787);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(99548).A;s("599c9cc8",o,!0,{sourceMap:!1,shadowMode:!1})},72053:(e,t,a)=>{var o=a(85515);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(99548).A;s("261e9496",o,!0,{sourceMap:!1,shadowMode:!1})},89603:(e,t,a)=>{var o=a(9841);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(99548).A;s("5e8d21cf",o,!0,{sourceMap:!1,shadowMode:!1})},95160:(e,t,a)=>{var o=a(37582);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(99548).A;s("2cc1f080",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=3144.1bd29d60.js.map