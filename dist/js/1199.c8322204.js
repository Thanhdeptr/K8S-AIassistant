"use strict";(self["webpackChunkui_plugin_examples"]=self["webpackChunkui_plugin_examples"]||[]).push([[1199],{21199:(e,r,a)=>{a.r(r),a.d(r,{default:()=>v});var s=a(20641),t=a(90033);const i={key:1},n={key:0,class:"description text-muted text-small"};function o(e,r,a,o,l,c){const d=(0,s.g2)("Loading"),u=(0,s.g2)("AsyncButton"),h=(0,s.g2)("Masthead"),p=(0,s.g2)("ResourceTable");return e.$fetchState.pending?((0,s.uX)(),(0,s.Wv)(d,{key:0})):((0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(h,{schema:l.schema,resource:l.resource,"type-display":e.t("drivers.kontainer.title")},{extraActions:(0,s.k6)((()=>[l.canRefreshK8sMetadata?((0,s.uX)(),(0,s.Wv)(u,{key:0,mode:"refresh","action-label":e.t("drivers.actions.refresh"),"waiting-label":e.t("drivers.actions.refresh"),"success-label":e.t("drivers.actions.refresh"),"error-label":e.t("drivers.actions.refresh"),"data-testid":"kontainer-driver-refresh",onClick:c.refreshK8sMetadata},null,8,["action-label","waiting-label","success-label","error-label","onClick"])):(0,s.Q3)("",!0)])),_:1},8,["schema","resource","type-display"]),r[1]||(r[1]=(0,s.eW)()),(0,s.bF)(p,{schema:l.schema,rows:c.rows,"use-query-params-for-simple-filtering":l.useQueryParamsForSimpleFiltering,"force-update-live-and-delayed":l.forceUpdateLiveAndDelayed,tableActions:!0,"data-testid":"kontainer-driver-list"},{"cell:name":(0,s.k6)((({row:e})=>[(0,s.Lk)("span",null,(0,t.v_)(e.nameDisplay),1),r[0]||(r[0]=(0,s.eW)()),e.description?((0,s.uX)(),(0,s.CE)("div",n,(0,t.v_)(e.description),1)):(0,s.Q3)("",!0)])),_:1},8,["schema","rows","use-query-params-for-simple-filtering","force-update-live-and-delayed"])]))}var l=a(55823),c=a(1822),d=a(97671),u=a(38928),h=a(21399);const p={name:"KontainerDrivers",components:{ResourceTable:c.A,Loading:u.A,Masthead:h.A,AsyncButton:d.A},async fetch(){this.allDrivers=await this.$store.dispatch("rancher/findAll",{type:l.k$.KONTAINER_DRIVER},{root:!0})},data(){return{allDrivers:null,canRefreshK8sMetadata:!0,resource:l.k$.KONTAINER_DRIVER,schema:this.$store.getters["rancher/schemaFor"](l.k$.KONTAINER_DRIVER),useQueryParamsForSimpleFiltering:!1,forceUpdateLiveAndDelayed:10}},computed:{rows(){return this.allDrivers||[]}},methods:{async refreshK8sMetadata(e){try{await this.$store.dispatch("rancher/request",{url:"/v3/kontainerdrivers?action=refresh",method:"post",data:{}}),e(!0)}catch(r){this.$store.dispatch("growl/fromError",{title:"Error refreshing kontainer drivers",err:r},{root:!0}),e(!1)}}}};var m=a(66262);const f=(0,m.A)(p,[["render",o]]),v=f}}]);
//# sourceMappingURL=1199.c8322204.js.map