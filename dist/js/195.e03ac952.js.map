{"version":3,"file":"js/195.e03ac952.js","mappings":"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","sources":["webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/monitoring/route-receiver/index.vue","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/monitoring/route-receiver/index.vue?d414","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/monitoring/route-receiver/index.vue?755f","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/monitoring/route-receiver/index.vue?13b7"],"sourcesContent":["<script>\n/**\n * The Route and Receiver resources are deprecated. Going forward,\n * routes and receivers should be configured within AlertmanagerConfigs.\n * Any updates to receiver configuration forms, such as Slack/email/PagerDuty\n * etc, should be made to the receiver forms that are based on the\n * AlertmanagerConfig resource, which has a different API. The new forms are\n * located in @shell/edit/monitoring.coreos.com.alertmanagerconfig/types.\n */\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { Banner } from '@components/Banner';\nimport { MONITORING } from '@shell/config/types';\nimport { areRoutesSupportedFormat, getSecret } from '@shell/utils/alertmanagerconfig';\nimport { MODE, _EDIT } from '@shell/config/query-params';\n\nexport default {\n  name:       'ListRoute',\n  components: {\n    Banner,\n    Loading,\n    ResourceTable,\n    Tab,\n    Tabbed,\n  },\n\n  async fetch() {\n    this.routeSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.ROUTE);\n    this.receiverSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.RECEIVER);\n\n    const routes = this.$store.dispatch('cluster/findAll', { type: MONITORING.SPOOFED.ROUTE });\n\n    this.receivers = await this.$store.dispatch('cluster/findAll', { type: MONITORING.SPOOFED.RECEIVER });\n\n    const secret = await getSecret(this.$store.dispatch);\n    const areSomeRoutesInvalidFormat = areRoutesSupportedFormat(secret);\n\n    if (areSomeRoutesInvalidFormat) {\n      this.$store.dispatch('type-map/configureType', { match: MONITORING.SPOOFED.ROUTE, isCreatable: true });\n      this.routes = await routes;\n    } else {\n      this.$store.dispatch('type-map/configureType', { match: MONITORING.SPOOFED.ROUTE, isCreatable: false });\n      this.secretTo = { ...secret.detailLocation };\n      this.secretTo.query = { [MODE]: _EDIT };\n    }\n  },\n\n  data() {\n    const initTab = this.$route.query.resource || MONITORING.SPOOFED.RECEIVER;\n\n    return {\n      routes: [], receivers: [], secretTo: null, routeSchema: null, receiverSchema: null, initTab\n    };\n  },\n  computed: {\n\n    createRoute() {\n      const activeResource = this.$refs?.tabs?.activeTabName || this.routeSchema.id;\n\n      return {\n        name:   'c-cluster-monitoring-route-receiver-create',\n        params: { cluster: this.$route.params.cluster },\n        query:  { resource: activeResource }\n      };\n    },\n  },\n\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"row header mb-10\">\n      <h1>  {{ t('monitoring.routesAndReceivers') }}</h1>\n      <div>\n        <button\n          class=\"btn btn-lg role-primary float right\"\n          @click=\"$router.push(createRoute)\"\n        >\n          {{ t('resourceList.head.create') }}\n        </button>\n      </div>\n    </div>\n    <div class=\"row\">\n      <Banner\n        color=\"info\"\n        :label=\"t('monitoring.alertmanagerConfig.deprecationWarning')\"\n      />\n    </div>\n    <Tabbed\n      ref=\"tabs\"\n      :default-tab=\"initTab\"\n    >\n      <Tab\n        :name=\"routeSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](routeSchema, 2)\"\n      >\n        <div v-if=\"secretTo\">\n          We don't support the current route format stored in alertmanager.yaml. Click\n          <router-link :to=\"secretTo\">\n            here\n          </router-link> to update manually.\n        </div>\n        <ResourceTable\n          v-else\n          :schema=\"routeSchema\"\n          :rows=\"routes\"\n        />\n      </Tab>\n      <Tab\n        :name=\"receiverSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](receiverSchema, 2)\"\n      >\n        <ResourceTable\n          :schema=\"receiverSchema\"\n          :rows=\"receivers\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.header{\n  display: flex;\n  H1{\n    flex: 1;\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=706fc849&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=706fc849&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-706fc849\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../vue-loader/dist/stylePostLoader.js!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../xterm/css/xterm.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.header[data-v-706fc849]{display:flex}.header H1[data-v-706fc849]{flex:1}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../vue-loader/dist/stylePostLoader.js!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./index.vue?vue&type=style&index=0&id=706fc849&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4f46ee63\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["class","$fetchState","t","$router","push","createRoute","color","label","ref","initTab","name","routeSchema","id","$store","getters","to","secretTo","schema","rows","routes","receiverSchema","receivers","components","Banner","Loading","ResourceTable","Tab","Tabbed","fetch","this","SPOOFED","ROUTE","RECEIVER","dispatch","type","secret","areSomeRoutesInvalidFormat","match","isCreatable","detailLocation","query","data","$route","resource","computed","activeResource","$refs","tabs","activeTabName","params","cluster","__exports__","render","___CSS_LOADER_EXPORT___","i","module","content","__esModule","default","locals","exports","add"],"sourceRoot":""}