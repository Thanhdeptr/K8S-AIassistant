{"version":3,"file":"js/8369.472f7c77.js","mappings":"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","sources":["webpack://ui-plugin-examples/./node_modules/@rancher/shell/components/user.retention/user-retention-header.vue?efbd","webpack://ui-plugin-examples/./node_modules/@rancher/shell/components/user.retention/user-retention-header.vue","webpack://ui-plugin-examples/./node_modules/@rancher/shell/components/user.retention/user-retention-header.vue?9f3d","webpack://ui-plugin-examples/./node_modules/@rancher/shell/composables/useI18n.ts","webpack://ui-plugin-examples/./node_modules/@rancher/shell/composables/useUserRetentionValidation.ts","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/auth/user.retention/index.vue?77c9","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/auth/user.retention/index.vue","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/auth/user.retention/index.vue?51d6","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/auth/user.retention/index.vue?6e1d","webpack://ui-plugin-examples/./node_modules/dayjs/plugin/duration.js","webpack://ui-plugin-examples/./node_modules/@rancher/shell/pages/c/_cluster/auth/user.retention/index.vue?c25f"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"title\" }\nconst _hoisted_2 = {\n  \"data-testid\": \"charts-header-title\",\n  class: \"m-0\"\n}\n\nimport TabTitle from '@shell/components/TabTitle';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'user-retention-header',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createElementVNode(\"header\", null, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"h1\", _hoisted_2, [\n          _createVNode(_unref(TabTitle), { \"show-child\": false }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.t('user.retention.edit.title.header')), 1)\n            ]),\n            _: 1\n          }),\n          _cache[0] || (_cache[0] = _createTextVNode()),\n          _createVNode(_component_router_link, { to: {\n              name: 'c-cluster-product-resource',\n              params: {\n                cluster: '_',\n                product: 'auth',\n                resource: 'management.cattle.io.user',\n              }\n            } }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.t('user.retention.edit.title.pre')), 1)\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" \" + _toDisplayString(_ctx.t('user.retention.edit.title.post')), 1)\n        ])\n      ])\n    ]),\n    _cache[1] || (_cache[1] = _createTextVNode()),\n    _createElementVNode(\"h2\", null, _toDisplayString(_ctx.t('user.retention.edit.title.subTitle')), 1)\n  ]))\n}\n}\n\n})","<script lang=\"ts\" setup>\nimport TabTitle from '@shell/components/TabTitle';\n</script>\n\n<template>\n  <div>\n    <header>\n      <div class=\"title\">\n        <h1\n          data-testid=\"charts-header-title\"\n          class=\"m-0\"\n        >\n          <TabTitle :show-child=\"false\">\n            {{ t('user.retention.edit.title.header') }}\n          </TabTitle>\n          <router-link\n            :to=\"{\n              name: 'c-cluster-product-resource',\n              params: {\n                cluster: '_',\n                product: 'auth',\n                resource: 'management.cattle.io.user',\n              }\n            }\"\n          >\n            {{ t('user.retention.edit.title.pre') }}\n          </router-link>\n          {{ t('user.retention.edit.title.post') }}\n        </h1>\n      </div>\n    </header>\n    <h2>{{ t('user.retention.edit.title.subTitle') }}</h2>\n  </div>\n</template>\n","import script from \"./user-retention-header.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./user-retention-header.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { Store } from 'vuex';\n\nimport { stringFor } from '@shell/plugins/i18n';\n\nlet store: Store<any> | null = null;\n\nexport const useI18n = (vuexStore: Store<any>): { t: typeof t } => {\n  store = vuexStore;\n\n  if (!store) {\n    throw new Error('usI18n() must be called from setup()');\n  }\n\n  return { t };\n};\n\n/**\n * Allows for consuming i18n strings with the Vue composition API.\n * @param key - The key for the i18n string to translate.\n * @param args - An object or array containing arguments for the translation function.\n * @param raw - A boolean determining if the string returned is a raw representation.\n * @returns A translated string or the raw value if the raw parameter is set to true.\n */\nconst t = (key: string, args?: unknown, raw?: boolean): string => {\n  return stringFor(store, key, args, raw);\n};\n","import { Ref, ComputedRef, ref, computed } from 'vue';\nimport { useStore } from 'vuex';\n\nimport { SETTING } from '@shell/config/settings';\nimport { useI18n } from '@shell/composables/useI18n';\nimport type { Setting } from '@shell/types/resources/settings';\n\nimport { isValidCron } from 'cron-validator';\nimport dayjs from 'dayjs';\nimport duration from 'dayjs/plugin/duration';\ndayjs.extend(duration);\n\ntype SettingValidation = 'user-retention-cron' | 'disable-inactive-user-after' | 'delete-inactive-user-after';\n\ntype Validation = {\n  [SETTING.DISABLE_INACTIVE_USER_AFTER]?: boolean;\n  [SETTING.DELETE_INACTIVE_USER_AFTER]?: boolean;\n  [SETTING.USER_RETENTION_CRON]?: boolean;\n}\n\ninterface UseUserRetentionValidation {\n  validateUserRetentionCron: (cronSetting: string | null) => string | undefined;\n  validateDisableInactiveUserAfterDuration: (duration: string) => string | undefined;\n  validateDeleteInactiveUserAfterDuration: (duration: string) => string | undefined;\n  validateDeleteInactiveUserAfter: (duration: string) => string | undefined;\n  validateDurationAgainstAuthUserSession: (duration: string) => string | undefined;\n  setValidation: (formField: SettingValidation, isValid: boolean) => void;\n  removeValidation : (setting: SettingValidation) => void;\n  addValidation: (setting: SettingValidation) => void;\n  isFormValid: ComputedRef<boolean>;\n}\n\nclass ExpectedValidationError extends Error {\n  isExpected = true;\n  constructor(message: string) {\n    super(message);\n    this.name = 'ExpectedError';\n  }\n}\n\nexport const useUserRetentionValidation = (disableAfterPeriod: Ref<boolean>, deleteAfterPeriod: Ref<boolean>, authUserSessionTtlMinutes: Ref<Setting | null>): UseUserRetentionValidation => {\n  const store = useStore();\n  const { t } = useI18n(store);\n\n  /**\n   * Tracks the validation state for user retention fields\n   */\n  const validation = ref<Validation>({\n    [SETTING.DISABLE_INACTIVE_USER_AFTER]: true,\n    [SETTING.DELETE_INACTIVE_USER_AFTER]:  true,\n    [SETTING.USER_RETENTION_CRON]:         true,\n  });\n\n  const isFormValid = computed(() => {\n    const validations = validation.value;\n\n    return !Object.values(validations).includes(false);\n  });\n\n  const setValidation = (formField: SettingValidation, isValid: boolean) => {\n    validation.value[formField] = isValid;\n  };\n\n  const removeValidation = (setting: SettingValidation) => {\n    const { [setting]: _, ...rest } = validation.value;\n\n    validation.value = rest;\n  };\n\n  const addValidation = (setting: SettingValidation) => {\n    validation.value = {\n      ...validation.value,\n      [setting]: true,\n    };\n  };\n\n  /**\n   * Takes a duration string and produces a dayjs duration object.\n   * @param duration Duration string in {h|m|s} (e.g. 6h3m2s)\n   * @returns Day.js duration object\n   */\n  const parseDuration = (duration: string) => {\n    const durationPattern = /^(\\d+)h|(\\d+)m|(\\d+)s$/;\n    const match = duration?.match(durationPattern);\n\n    if (!match) {\n      throw new ExpectedValidationError('Invalid duration format. Accepted duration units are Hours, Minutes, and Seconds ({h|m|s})');\n    }\n\n    const hours = match[1] ? parseInt(match[1]) : 0;\n    const minutes = match[2] ? parseInt(match[2]) : 0;\n    const seconds = match[3] ? parseInt(match[3]) : 0;\n\n    return dayjs.duration({\n      hours, minutes, seconds\n    });\n  };\n\n  /**\n   * Asserts that a given string is a valid cron expression\n   * @param cronSetting Cron expression to test\n   * @returns Undefined if cron expression is valid; Error string for an invalid\n   * cron expression.\n   */\n  const validateUserRetentionCron = (cronSetting: string | null): string | undefined => {\n    // Only require user retention cron when disable or delete after are active\n    if (!disableAfterPeriod.value && !deleteAfterPeriod.value) {\n      return;\n    }\n\n    if (\n      !cronSetting ||\n      (typeof cronSetting === 'string' && !isValidCron(cronSetting))\n    ) {\n      return t('user.retention.edit.form.cron.errorMessage');\n    }\n  };\n\n  const validateDisableInactiveUserAfterDuration = (duration: string): string | undefined => {\n    if (!disableAfterPeriod.value) {\n      return;\n    }\n\n    try {\n      parseDuration(duration);\n    } catch (error: any) {\n      return error.message;\n    }\n  };\n\n  const validateDeleteInactiveUserAfterDuration = (duration: string): string | undefined => {\n    if (!deleteAfterPeriod.value) {\n      return;\n    }\n\n    try {\n      parseDuration(duration);\n    } catch (error: any) {\n      return error.message;\n    }\n  };\n\n  /**\n   * Asserts that the provided duration is greater than the default minimum of\n   * 336h\n   * @param duration Duration string in {h|m|s} (e.g. 6h3m2s)\n   * @returns Undefined if duration is valid; Error string for an invalid\n   * duration\n   */\n  const validateDeleteInactiveUserAfter = (duration: string): string | undefined => {\n    try {\n      const inputDuration = parseDuration(duration);\n      const minDuration = dayjs.duration({ hours: 336 });\n\n      if (inputDuration.asMilliseconds() < minDuration.asMilliseconds()) {\n        return `Invalid value: \"${ duration }\": must be at least 336h0m0s`;\n      }\n    } catch (error: any) {\n      if (error instanceof ExpectedValidationError) {\n\n      } else {\n        return error.message;\n      }\n    }\n  };\n\n  /**\n   * Asserts that the provided duration is not less than the user session TTL\n   * @param duration Duration string in {h|m|s} (e.g. 6h3m2s)\n   * @returns Undefined if duration is valid; Error string for an invalid\n   * duration\n   */\n  const validateDurationAgainstAuthUserSession = (duration: string): string | undefined => {\n    try {\n      const inputDuration = parseDuration(duration);\n      const minDuration = dayjs.duration({ minutes: authUserSessionTtlMinutes.value?.value });\n\n      if (inputDuration.asMilliseconds() < minDuration.asMilliseconds()) {\n        return `Invalid value: \"${ duration }\": must be at least ${ SETTING.AUTH_USER_SESSION_TTL_MINUTES } (${ authUserSessionTtlMinutes.value?.value }m)`;\n      }\n    } catch (error: any) {\n      if (error instanceof ExpectedValidationError) {\n\n      } else {\n        return error.message;\n      }\n    }\n  };\n\n  return {\n    validateUserRetentionCron,\n    validateDisableInactiveUserAfterDuration,\n    validateDeleteInactiveUserAfterDuration,\n    validateDeleteInactiveUserAfter,\n    validateDurationAgainstAuthUserSession,\n    setValidation,\n    removeValidation,\n    addValidation,\n    isFormValid,\n  };\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createElementVNode as _createElementVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"form-user-retention\"\n}\nconst _hoisted_2 = { class: \"input-fieldset\" }\nconst _hoisted_3 = { class: \"input-fieldset\" }\nconst _hoisted_4 = { class: \"input-fieldset pt-12\" }\nconst _hoisted_5 = { class: \"input-fieldset condensed pt-12\" }\nconst _hoisted_6 = { class: \"input-detail\" }\nconst _hoisted_7 = { class: \"input-fieldset condensed\" }\n\nimport { ref, reactive, watch, onMounted } from 'vue';\nimport { useRouter, onBeforeRouteUpdate } from 'vue-router';\n\nimport UserRetentionHeader from '@shell/components/user.retention/user-retention-header.vue';\nimport Footer from '@shell/components/form/Footer.vue';\nimport { useStore } from 'vuex';\nimport { useI18n } from '@shell/composables/useI18n';\nimport { useUserRetentionValidation } from '@shell/composables/useUserRetentionValidation';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { isAdminUser } from '@shell/store/type-map';\n\nimport type { Setting } from '@shell/types/resources/settings';\n\nimport Banner from '@components/Banner/Banner.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport LabeledInput from '@components/Form/LabeledInput/LabeledInput.vue';\nimport { ToggleSwitch } from '@components/Form/ToggleSwitch';\n\nimport dayjs from 'dayjs';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst store = useStore();\nconst userRetentionSettings = reactive<{[id: string]: string | null }>({\n  [SETTING.DISABLE_INACTIVE_USER_AFTER]: null,\n  [SETTING.DELETE_INACTIVE_USER_AFTER]:  null,\n  [SETTING.USER_RETENTION_CRON]:         null,\n  [SETTING.USER_RETENTION_DRY_RUN]:      null,\n  [SETTING.USER_LAST_LOGIN_DEFAULT]:     null,\n});\nconst authUserSessionTtlMinutes = ref<Setting | null>(null);\nconst disableAfterPeriod = ref(false);\nconst deleteAfterPeriod = ref(false);\nconst loading = ref(true);\nconst {\n  validateUserRetentionCron,\n  validateDisableInactiveUserAfterDuration,\n  validateDeleteInactiveUserAfterDuration,\n  validateDeleteInactiveUserAfter,\n  validateDurationAgainstAuthUserSession,\n  setValidation,\n  removeValidation,\n  addValidation,\n  isFormValid,\n} = useUserRetentionValidation(disableAfterPeriod, deleteAfterPeriod, authUserSessionTtlMinutes);\nlet settings: { [id: string]: Setting } = {};\n\n/**\n * Watches the disable after period and removes the value if the checkbox is\n * not selected. Lookup the value when the checkbox is selected.\n */\nwatch(disableAfterPeriod, (newVal) => {\n  if (!newVal) {\n    userRetentionSettings[SETTING.DISABLE_INACTIVE_USER_AFTER] = null;\n\n    return;\n  }\n\n  userRetentionSettings[SETTING.DISABLE_INACTIVE_USER_AFTER] = settings[SETTING.DISABLE_INACTIVE_USER_AFTER].value;\n});\n\n/**\n * Watches the delete after period and removes the value if the checkbox is\n * not selected. Lookup the value when the checkbox is selected.\n */\nwatch(deleteAfterPeriod, (newVal) => {\n  if (!newVal) {\n    userRetentionSettings[SETTING.DELETE_INACTIVE_USER_AFTER] = null;\n\n    return;\n  }\n\n  userRetentionSettings[SETTING.DELETE_INACTIVE_USER_AFTER] = settings[SETTING.DELETE_INACTIVE_USER_AFTER].value;\n});\n\n/**\n * Watches both the disable and delete after periods. Clear all values in\n * the form if both checkboxes are not selected. If one of the checkboxes\n * are selected, lookup each of the values in the form.\n */\nwatch([disableAfterPeriod, deleteAfterPeriod], ([newDisableAfterPeriod, newDeleteAfterPeriod]) => {\n  if (!newDisableAfterPeriod && !newDeleteAfterPeriod) {\n    ids.forEach((key) => {\n      userRetentionSettings[key] = null;\n    });\n\n    removeValidation(SETTING.USER_RETENTION_CRON);\n\n    return;\n  }\n\n  ids.filter((id) => ![SETTING.DISABLE_INACTIVE_USER_AFTER, SETTING.DELETE_INACTIVE_USER_AFTER].includes(id))\n    .forEach(assignSettings);\n\n  addValidation(SETTING.USER_RETENTION_CRON);\n});\n\nconst assignSettings = (key: string) => {\n  if (settings[key].id === SETTING.USER_LAST_LOGIN_DEFAULT && settings[key].value && typeof settings[key].value === 'string') {\n    const value = settings[key].value as string;\n\n    userRetentionSettings[key] = dayjs(value).valueOf().toString();\n\n    return;\n  }\n\n  userRetentionSettings[key] = settings[key].value;\n};\n\nconst fetchSetting = async(id: string) => {\n  return await store.dispatch('management/find', { type: MANAGEMENT.SETTING, id });\n};\n\nconst ids = Object.keys(userRetentionSettings);\nconst settingPromises = ids.map((id) => fetchSetting(id));\n\nonMounted(async() => {\n  settings = await Promise\n    .all(settingPromises)\n    .then((results) => results.reduce((acc, result) => {\n      return {\n        [result.id]: result,\n        ...acc,\n      };\n    }, { }));\n\n  ids.forEach(assignSettings);\n\n  authUserSessionTtlMinutes.value = await fetchSetting(SETTING.AUTH_USER_SESSION_TTL_MINUTES);\n\n  disableAfterPeriod.value = !!userRetentionSettings[SETTING.DISABLE_INACTIVE_USER_AFTER];\n  deleteAfterPeriod.value = !!userRetentionSettings[SETTING.DELETE_INACTIVE_USER_AFTER];\n  loading.value = false;\n});\n\nconst { t } = useI18n(store);\nconst error = ref<string | null>(null);\nconst save = async(btnCB: (arg: boolean) => void) => {\n  try {\n    error.value = null;\n    ids.forEach((key) => {\n      settings[key].value = userRetentionSettings[key];\n\n      if (key === SETTING.USER_LAST_LOGIN_DEFAULT && userRetentionSettings[key]) {\n        settings[key].value = dayjs(Number(userRetentionSettings[key])).format();\n      }\n    });\n\n    await Promise.all(ids.map((setting) => settings[setting].save()));\n\n    btnCB(true);\n    store.dispatch(\n      'growl/success',\n      {\n        title:   t('user.retention.growl.title'),\n        message: t('user.retention.growl.message'),\n      },\n      { root: true }\n    );\n    routeBack();\n  } catch (err) {\n    error.value = (err as Error).message;\n    btnCB(false);\n  }\n};\n\nconst router = useRouter();\nconst routeBack = () => {\n  router.back();\n};\n\nonBeforeRouteUpdate((_to: unknown, _from: unknown) => {\n  if (!isAdminUser(store.getters)) {\n    router.replace({ name: 'home' });\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(UserRetentionHeader),\n    _cache[18] || (_cache[18] = _createTextVNode()),\n    (!loading.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (error.value)\n            ? (_openBlock(), _createBlock(Banner, {\n                key: 0,\n                color: \"error\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(error.value), 1)\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          _cache[15] || (_cache[15] = _createTextVNode()),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(Checkbox, {\n              value: disableAfterPeriod.value,\n              \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((disableAfterPeriod).value = $event)),\n              \"data-testid\": \"disableAfterPeriod\",\n              label: _unref(t)('user.retention.edit.form.disableAfter.checkbox')\n            }, null, 8, [\"value\", \"label\"]),\n            _cache[10] || (_cache[10] = _createTextVNode()),\n            _createVNode(LabeledInput, {\n              value: userRetentionSettings[_unref(SETTING).DISABLE_INACTIVE_USER_AFTER],\n              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((userRetentionSettings[_unref(SETTING).DISABLE_INACTIVE_USER_AFTER]) = $event)),\n              \"data-testid\": \"disableAfterPeriodInput\",\n              tooltip: _unref(t)('user.retention.edit.form.disableAfter.input.tooltip'),\n              class: \"input-field\",\n              label: _unref(t)('user.retention.edit.form.disableAfter.input.label'),\n              disabled: !disableAfterPeriod.value,\n              rules: [_unref(validateDisableInactiveUserAfterDuration), _unref(validateDurationAgainstAuthUserSession)],\n              \"onUpdate:validation\": _cache[2] || (_cache[2] = e => _unref(setValidation)(_unref(SETTING).DISABLE_INACTIVE_USER_AFTER, e))\n            }, null, 8, [\"value\", \"tooltip\", \"label\", \"disabled\", \"rules\"])\n          ]),\n          _cache[16] || (_cache[16] = _createTextVNode()),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(Checkbox, {\n              value: deleteAfterPeriod.value,\n              \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((deleteAfterPeriod).value = $event)),\n              \"data-testid\": \"deleteAfterPeriod\",\n              label: _unref(t)('user.retention.edit.form.deleteAfter.checkbox')\n            }, null, 8, [\"value\", \"label\"]),\n            _cache[11] || (_cache[11] = _createTextVNode()),\n            _createVNode(LabeledInput, {\n              value: userRetentionSettings[_unref(SETTING).DELETE_INACTIVE_USER_AFTER],\n              \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => ((userRetentionSettings[_unref(SETTING).DELETE_INACTIVE_USER_AFTER]) = $event)),\n              \"data-testid\": \"deleteAfterPeriodInput\",\n              tooltip: _unref(t)('user.retention.edit.form.deleteAfter.input.tooltip'),\n              class: \"input-field\",\n              label: _unref(t)('user.retention.edit.form.deleteAfter.input.label'),\n              \"sub-label\": _unref(t)('user.retention.edit.form.deleteAfter.input.subLabel'),\n              disabled: !deleteAfterPeriod.value,\n              rules: [_unref(validateDeleteInactiveUserAfterDuration), _unref(validateDurationAgainstAuthUserSession), _unref(validateDeleteInactiveUserAfter)],\n              \"onUpdate:validation\": _cache[5] || (_cache[5] = e => _unref(setValidation)(_unref(SETTING).DELETE_INACTIVE_USER_AFTER, e))\n            }, null, 8, [\"value\", \"tooltip\", \"label\", \"sub-label\", \"disabled\", \"rules\"])\n          ]),\n          _cache[17] || (_cache[17] = _createTextVNode()),\n          (disableAfterPeriod.value || deleteAfterPeriod.value)\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                _createElementVNode(\"div\", _hoisted_4, [\n                  _createVNode(LabeledInput, {\n                    value: userRetentionSettings[_unref(SETTING).USER_RETENTION_CRON],\n                    \"onUpdate:value\": _cache[6] || (_cache[6] = ($event: any) => ((userRetentionSettings[_unref(SETTING).USER_RETENTION_CRON]) = $event)),\n                    \"data-testid\": \"userRetentionCron\",\n                    class: \"input-field\",\n                    required: \"\",\n                    type: \"cron\",\n                    tooltip: _unref(t)('user.retention.edit.form.cron.subLabel'),\n                    rules: [_unref(validateUserRetentionCron)],\n                    label: _unref(t)('user.retention.edit.form.cron.label'),\n                    \"require-dirty\": false,\n                    \"onUpdate:validation\": _cache[7] || (_cache[7] = e => _unref(setValidation)(_unref(SETTING).USER_RETENTION_CRON, e))\n                  }, null, 8, [\"value\", \"tooltip\", \"rules\", \"label\"])\n                ]),\n                _cache[13] || (_cache[13] = _createTextVNode()),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createVNode(_unref(ToggleSwitch), {\n                    value: userRetentionSettings[_unref(SETTING).USER_RETENTION_DRY_RUN],\n                    \"onUpdate:value\": _cache[8] || (_cache[8] = ($event: any) => ((userRetentionSettings[_unref(SETTING).USER_RETENTION_DRY_RUN]) = $event)),\n                    \"data-testid\": \"userRetentionDryRun\",\n                    onValue: 'true',\n                    offValue: 'false',\n                    \"on-label\": _unref(t)('user.retention.edit.form.dryRun.label')\n                  }, null, 8, [\"value\", \"on-label\"]),\n                  _cache[12] || (_cache[12] = _createTextVNode()),\n                  _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_unref(t)('user.retention.edit.form.dryRun.subLabel')), 1)\n                ]),\n                _cache[14] || (_cache[14] = _createTextVNode()),\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createVNode(LabeledInput, {\n                    value: userRetentionSettings[_unref(SETTING).USER_LAST_LOGIN_DEFAULT],\n                    \"onUpdate:value\": _cache[9] || (_cache[9] = ($event: any) => ((userRetentionSettings[_unref(SETTING).USER_LAST_LOGIN_DEFAULT]) = $event)),\n                    \"data-testid\": \"userLastLoginDefault\",\n                    class: \"input-field\",\n                    label: _unref(t)('user.retention.edit.form.defaultLastLogin.label'),\n                    \"sub-label\": _unref(t)('user.retention.edit.form.defaultLastLogin.subLabel'),\n                    placeholder: _unref(t)('user.retention.edit.form.defaultLastLogin.placeholder')\n                  }, null, 8, [\"value\", \"label\", \"sub-label\", \"placeholder\"])\n                ])\n              ], 64))\n            : _createCommentVNode(\"\", true)\n        ]))\n      : _createCommentVNode(\"\", true),\n    _cache[19] || (_cache[19] = _createTextVNode()),\n    _createVNode(Footer, {\n      class: \"footer-user-retention\",\n      mode: \"edit\",\n      \"disable-save\": !_unref(isFormValid),\n      onSave: save,\n      onDone: routeBack\n    }, null, 8, [\"disable-save\"])\n  ]))\n}\n}\n\n})","<script lang=\"ts\" setup>\nimport { ref, reactive, watch, onMounted } from 'vue';\nimport { useRouter, onBeforeRouteUpdate } from 'vue-router';\n\nimport UserRetentionHeader from '@shell/components/user.retention/user-retention-header.vue';\nimport Footer from '@shell/components/form/Footer.vue';\nimport { useStore } from 'vuex';\nimport { useI18n } from '@shell/composables/useI18n';\nimport { useUserRetentionValidation } from '@shell/composables/useUserRetentionValidation';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { isAdminUser } from '@shell/store/type-map';\n\nimport type { Setting } from '@shell/types/resources/settings';\n\nimport Banner from '@components/Banner/Banner.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport LabeledInput from '@components/Form/LabeledInput/LabeledInput.vue';\nimport { ToggleSwitch } from '@components/Form/ToggleSwitch';\n\nimport dayjs from 'dayjs';\n\nconst store = useStore();\nconst userRetentionSettings = reactive<{[id: string]: string | null }>({\n  [SETTING.DISABLE_INACTIVE_USER_AFTER]: null,\n  [SETTING.DELETE_INACTIVE_USER_AFTER]:  null,\n  [SETTING.USER_RETENTION_CRON]:         null,\n  [SETTING.USER_RETENTION_DRY_RUN]:      null,\n  [SETTING.USER_LAST_LOGIN_DEFAULT]:     null,\n});\nconst authUserSessionTtlMinutes = ref<Setting | null>(null);\nconst disableAfterPeriod = ref(false);\nconst deleteAfterPeriod = ref(false);\nconst loading = ref(true);\nconst {\n  validateUserRetentionCron,\n  validateDisableInactiveUserAfterDuration,\n  validateDeleteInactiveUserAfterDuration,\n  validateDeleteInactiveUserAfter,\n  validateDurationAgainstAuthUserSession,\n  setValidation,\n  removeValidation,\n  addValidation,\n  isFormValid,\n} = useUserRetentionValidation(disableAfterPeriod, deleteAfterPeriod, authUserSessionTtlMinutes);\nlet settings: { [id: string]: Setting } = {};\n\n/**\n * Watches the disable after period and removes the value if the checkbox is\n * not selected. Lookup the value when the checkbox is selected.\n */\nwatch(disableAfterPeriod, (newVal) => {\n  if (!newVal) {\n    userRetentionSettings[SETTING.DISABLE_INACTIVE_USER_AFTER] = null;\n\n    return;\n  }\n\n  userRetentionSettings[SETTING.DISABLE_INACTIVE_USER_AFTER] = settings[SETTING.DISABLE_INACTIVE_USER_AFTER].value;\n});\n\n/**\n * Watches the delete after period and removes the value if the checkbox is\n * not selected. Lookup the value when the checkbox is selected.\n */\nwatch(deleteAfterPeriod, (newVal) => {\n  if (!newVal) {\n    userRetentionSettings[SETTING.DELETE_INACTIVE_USER_AFTER] = null;\n\n    return;\n  }\n\n  userRetentionSettings[SETTING.DELETE_INACTIVE_USER_AFTER] = settings[SETTING.DELETE_INACTIVE_USER_AFTER].value;\n});\n\n/**\n * Watches both the disable and delete after periods. Clear all values in\n * the form if both checkboxes are not selected. If one of the checkboxes\n * are selected, lookup each of the values in the form.\n */\nwatch([disableAfterPeriod, deleteAfterPeriod], ([newDisableAfterPeriod, newDeleteAfterPeriod]) => {\n  if (!newDisableAfterPeriod && !newDeleteAfterPeriod) {\n    ids.forEach((key) => {\n      userRetentionSettings[key] = null;\n    });\n\n    removeValidation(SETTING.USER_RETENTION_CRON);\n\n    return;\n  }\n\n  ids.filter((id) => ![SETTING.DISABLE_INACTIVE_USER_AFTER, SETTING.DELETE_INACTIVE_USER_AFTER].includes(id))\n    .forEach(assignSettings);\n\n  addValidation(SETTING.USER_RETENTION_CRON);\n});\n\nconst assignSettings = (key: string) => {\n  if (settings[key].id === SETTING.USER_LAST_LOGIN_DEFAULT && settings[key].value && typeof settings[key].value === 'string') {\n    const value = settings[key].value as string;\n\n    userRetentionSettings[key] = dayjs(value).valueOf().toString();\n\n    return;\n  }\n\n  userRetentionSettings[key] = settings[key].value;\n};\n\nconst fetchSetting = async(id: string) => {\n  return await store.dispatch('management/find', { type: MANAGEMENT.SETTING, id });\n};\n\nconst ids = Object.keys(userRetentionSettings);\nconst settingPromises = ids.map((id) => fetchSetting(id));\n\nonMounted(async() => {\n  settings = await Promise\n    .all(settingPromises)\n    .then((results) => results.reduce((acc, result) => {\n      return {\n        [result.id]: result,\n        ...acc,\n      };\n    }, { }));\n\n  ids.forEach(assignSettings);\n\n  authUserSessionTtlMinutes.value = await fetchSetting(SETTING.AUTH_USER_SESSION_TTL_MINUTES);\n\n  disableAfterPeriod.value = !!userRetentionSettings[SETTING.DISABLE_INACTIVE_USER_AFTER];\n  deleteAfterPeriod.value = !!userRetentionSettings[SETTING.DELETE_INACTIVE_USER_AFTER];\n  loading.value = false;\n});\n\nconst { t } = useI18n(store);\nconst error = ref<string | null>(null);\nconst save = async(btnCB: (arg: boolean) => void) => {\n  try {\n    error.value = null;\n    ids.forEach((key) => {\n      settings[key].value = userRetentionSettings[key];\n\n      if (key === SETTING.USER_LAST_LOGIN_DEFAULT && userRetentionSettings[key]) {\n        settings[key].value = dayjs(Number(userRetentionSettings[key])).format();\n      }\n    });\n\n    await Promise.all(ids.map((setting) => settings[setting].save()));\n\n    btnCB(true);\n    store.dispatch(\n      'growl/success',\n      {\n        title:   t('user.retention.growl.title'),\n        message: t('user.retention.growl.message'),\n      },\n      { root: true }\n    );\n    routeBack();\n  } catch (err) {\n    error.value = (err as Error).message;\n    btnCB(false);\n  }\n};\n\nconst router = useRouter();\nconst routeBack = () => {\n  router.back();\n};\n\nonBeforeRouteUpdate((_to: unknown, _from: unknown) => {\n  if (!isAdminUser(store.getters)) {\n    router.replace({ name: 'home' });\n  }\n});\n</script>\n\n<template>\n  <div>\n    <user-retention-header />\n    <div\n      v-if=\"!loading\"\n      class=\"form-user-retention\"\n    >\n      <banner\n        v-if=\"error\"\n        color=\"error\"\n      >\n        {{ error }}\n      </banner>\n      <div class=\"input-fieldset\">\n        <checkbox\n          v-model:value=\"disableAfterPeriod\"\n          data-testid=\"disableAfterPeriod\"\n          :label=\"t('user.retention.edit.form.disableAfter.checkbox')\"\n        />\n        <labeled-input\n          v-model:value=\"userRetentionSettings[SETTING.DISABLE_INACTIVE_USER_AFTER]\"\n          data-testid=\"disableAfterPeriodInput\"\n          :tooltip=\"t('user.retention.edit.form.disableAfter.input.tooltip')\"\n          class=\"input-field\"\n          :label=\"t('user.retention.edit.form.disableAfter.input.label')\"\n          :disabled=\"!disableAfterPeriod\"\n          :rules=\"[validateDisableInactiveUserAfterDuration, validateDurationAgainstAuthUserSession]\"\n          @update:validation=\"e => setValidation(SETTING.DISABLE_INACTIVE_USER_AFTER, e)\"\n        />\n      </div>\n      <div class=\"input-fieldset\">\n        <checkbox\n          v-model:value=\"deleteAfterPeriod\"\n          data-testid=\"deleteAfterPeriod\"\n          :label=\"t('user.retention.edit.form.deleteAfter.checkbox')\"\n        />\n        <labeled-input\n          v-model:value=\"userRetentionSettings[SETTING.DELETE_INACTIVE_USER_AFTER]\"\n          data-testid=\"deleteAfterPeriodInput\"\n          :tooltip=\"t('user.retention.edit.form.deleteAfter.input.tooltip')\"\n          class=\"input-field\"\n          :label=\"t('user.retention.edit.form.deleteAfter.input.label')\"\n          :sub-label=\"t('user.retention.edit.form.deleteAfter.input.subLabel')\"\n          :disabled=\"!deleteAfterPeriod\"\n          :rules=\"[validateDeleteInactiveUserAfterDuration, validateDurationAgainstAuthUserSession, validateDeleteInactiveUserAfter]\"\n          @update:validation=\"e => setValidation(SETTING.DELETE_INACTIVE_USER_AFTER, e)\"\n        />\n      </div>\n      <template\n        v-if=\"disableAfterPeriod || deleteAfterPeriod\"\n      >\n        <div class=\"input-fieldset pt-12\">\n          <labeled-input\n            v-model:value=\"userRetentionSettings[SETTING.USER_RETENTION_CRON]\"\n            data-testid=\"userRetentionCron\"\n            class=\"input-field\"\n            required\n            type=\"cron\"\n            :tooltip=\"t('user.retention.edit.form.cron.subLabel')\"\n            :rules=\"[validateUserRetentionCron]\"\n            :label=\"t('user.retention.edit.form.cron.label')\"\n            :require-dirty=\"false\"\n            @update:validation=\"e => setValidation(SETTING.USER_RETENTION_CRON, e)\"\n          />\n        </div>\n        <div class=\"input-fieldset condensed pt-12\">\n          <toggle-switch\n            v-model:value=\"userRetentionSettings[SETTING.USER_RETENTION_DRY_RUN]\"\n            data-testid=\"userRetentionDryRun\"\n            :onValue=\"'true'\"\n            :offValue=\"'false'\"\n            :on-label=\"t('user.retention.edit.form.dryRun.label')\"\n          />\n          <span class=\"input-detail\">{{ t('user.retention.edit.form.dryRun.subLabel') }}</span>\n        </div>\n        <div class=\"input-fieldset condensed\">\n          <labeled-input\n            v-model:value=\"userRetentionSettings[SETTING.USER_LAST_LOGIN_DEFAULT]\"\n            data-testid=\"userLastLoginDefault\"\n            class=\"input-field\"\n            :label=\"t('user.retention.edit.form.defaultLastLogin.label')\"\n            :sub-label=\"t('user.retention.edit.form.defaultLastLogin.subLabel')\"\n            :placeholder=\"t('user.retention.edit.form.defaultLastLogin.placeholder')\"\n          />\n        </div>\n      </template>\n    </div>\n    <Footer\n      class=\"footer-user-retention\"\n      mode=\"edit\"\n      :disable-save=\"!isFormValid\"\n      @save=\"save\"\n      @done=\"routeBack\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .form-user-retention {\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    gap: 1.5rem;\n  }\n\n  .footer-user-retention {\n    border-top: var(--header-border-size) solid var(--header-border);\n    right: 0;\n    position: sticky;\n    bottom: 0;\n    background-color: var(--header-bg);\n    margin-left: -20px;\n    margin-right: -20px;\n    margin-bottom: -20px;\n    margin-top: 20px;\n    padding: 10px 20px;\n\n    :deep() .spacer-small {\n      padding: 0;\n    }\n  }\n\n  .input-fieldset {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n\n    &.condensed {\n      gap: 0.25rem;\n    }\n\n    &.pt-12 {\n      padding-top: 3rem;\n    }\n  }\n\n  .input-field {\n    max-width: 24rem\n  }\n\n  .input-detail {\n    color: var(--input-label);\n    padding-left: 61px;\n  }\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f4966f74&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f4966f74\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../vue-loader/dist/stylePostLoader.js!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../xterm/css/xterm.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.form-user-retention[data-v-f4966f74]{display:flex;flex:1;flex-direction:column;gap:1.5rem}.footer-user-retention[data-v-f4966f74]{border-top:var(--header-border-size) solid var(--header-border);right:0;position:sticky;bottom:0;background-color:var(--header-bg);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;margin-top:20px;padding:10px 20px}.footer-user-retention[data-v-f4966f74]  .spacer-small{padding:0}.input-fieldset[data-v-f4966f74]{display:flex;flex-direction:column;gap:.75rem}.input-fieldset.condensed[data-v-f4966f74]{gap:.25rem}.input-fieldset.pt-12[data-v-f4966f74]{padding-top:3rem}.input-field[data-v-f4966f74]{max-width:24rem}.input-detail[data-v-f4966f74]{color:var(--input-label);padding-left:61px}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s():\"function\"==typeof define&&define.amd?define(s):t.dayjs_plugin_duration=s()}(this,function(){\"use strict\";var t,s,n=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,weeks:6048e5},e=function(t){return t instanceof u},r=function(t,s,n){return new u(t,n,s.$l)},o=function(t){return s.p(t)+\"s\"},u=function(){function s(t,s,e){var u=this;if(this.$d={},this.$l=e||\"en\",s)return r(t*i[o(s)],this);if(\"number\"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if(\"object\"==typeof t)return Object.keys(t).forEach(function(s){u.$d[o(s)]=t[s]}),this.calMilliseconds(),this;if(\"string\"==typeof t){var h=t.match(n);if(h)return this.$d.years=h[2],this.$d.months=h[3],this.$d.weeks=h[4],this.$d.days=h[5],this.$d.hours=h[6],this.$d.minutes=h[7],this.$d.seconds=h[8],this.calMilliseconds(),this}return this}var u=s.prototype;return u.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(s,n){return s+(t.$d[n]||0)*(i[n]||1)},0)},u.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=Math.floor(t/31536e6),t%=31536e6,this.$d.months=Math.floor(t/2592e6),t%=2592e6,this.$d.days=Math.floor(t/864e5),t%=864e5,this.$d.hours=Math.floor(t/36e5),t%=36e5,this.$d.minutes=Math.floor(t/6e4),t%=6e4,this.$d.seconds=Math.floor(t/1e3),t%=1e3,this.$d.milliseconds=t},u.toISOString=function(){var t=this.$d.years?this.$d.years+\"Y\":\"\",s=this.$d.months?this.$d.months+\"M\":\"\",n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=n?n+\"D\":\"\",e=this.$d.hours?this.$d.hours+\"H\":\"\",r=this.$d.minutes?this.$d.minutes+\"M\":\"\",o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=o?o+\"S\":\"\",h=\"P\"+t+s+i+(e||r||u?\"T\":\"\")+e+r+u;return\"P\"===h?\"P0D\":h},u.toJSON=function(){return this.toISOString()},u.as=function(t){return this.$ms/(i[o(t)]||1)},u.get=function(t){var s=this.$ms,n=o(t);return\"milliseconds\"===n?s%=1e3:s=\"weeks\"===n?Math.floor(s/i[n]):this.$d[n],s},u.add=function(t,s,n){var u;return u=s?t*i[o(s)]:e(t)?t.$ms:r(t,this).$ms,r(this.$ms+u*(n?-1:1),this)},u.subtract=function(t,s){return this.add(t,s,!0)},u.locale=function(t){var s=this.clone();return s.$l=t,s},u.clone=function(){return r(this.$ms,this)},u.humanize=function(s){return t().add(this.$ms,\"ms\").locale(this.$l).fromNow(!s)},u.milliseconds=function(){return this.get(\"milliseconds\")},u.asMilliseconds=function(){return this.as(\"milliseconds\")},u.seconds=function(){return this.get(\"seconds\")},u.asSeconds=function(){return this.as(\"seconds\")},u.minutes=function(){return this.get(\"minutes\")},u.asMinutes=function(){return this.as(\"minutes\")},u.hours=function(){return this.get(\"hours\")},u.asHours=function(){return this.as(\"hours\")},u.days=function(){return this.get(\"days\")},u.asDays=function(){return this.as(\"days\")},u.weeks=function(){return this.get(\"weeks\")},u.asWeeks=function(){return this.as(\"weeks\")},u.months=function(){return this.get(\"months\")},u.asMonths=function(){return this.as(\"months\")},u.years=function(){return this.get(\"years\")},u.asYears=function(){return this.as(\"years\")},s}();return function(n,i,o){t=o,s=o().$utils(),o.duration=function(t,s){return r(t,{},s)},o.isDuration=e}});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../vue-loader/dist/stylePostLoader.js!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./index.vue?vue&type=style&index=0&id=f4966f74&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ee1efc94\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["_hoisted_1","class","_hoisted_2","__name","setup","__props","_ctx","_cache","_component_router_link","default","t","_","to","name","params","cluster","product","resource","__exports__","store","useI18n","vuexStore","Error","key","args","raw","ExpectedValidationError","constructor","message","super","isExpected","this","useUserRetentionValidation","disableAfterPeriod","deleteAfterPeriod","authUserSessionTtlMinutes","validation","DISABLE_INACTIVE_USER_AFTER","DELETE_INACTIVE_USER_AFTER","USER_RETENTION_CRON","isFormValid","validations","value","Object","values","includes","setValidation","formField","isValid","removeValidation","setting","rest","addValidation","parseDuration","duration","durationPattern","match","hours","parseInt","minutes","seconds","validateUserRetentionCron","cronSetting","isValidCron","validateDisableInactiveUserAfterDuration","error","validateDeleteInactiveUserAfterDuration","validateDeleteInactiveUserAfter","inputDuration","minDuration","asMilliseconds","validateDurationAgainstAuthUserSession","AUTH_USER_SESSION_TTL_MINUTES","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","userRetentionSettings","USER_RETENTION_DRY_RUN","USER_LAST_LOGIN_DEFAULT","loading","settings","newVal","newDisableAfterPeriod","newDeleteAfterPeriod","ids","forEach","filter","id","assignSettings","valueOf","toString","fetchSetting","async","dispatch","type","SETTING","keys","settingPromises","map","Promise","all","then","results","reduce","acc","result","save","btnCB","Number","format","title","root","routeBack","err","router","back","_to","_from","isAdminUser","getters","replace","color","$event","label","tooltip","disabled","rules","e","required","onValue","offValue","placeholder","mode","___CSS_LOADER_EXPORT___","i","push","module","s","exports","n","years","months","days","weeks","u","r","$l","o","p","$d","$ms","parseFromMilliseconds","calMilliseconds","h","prototype","Math","floor","milliseconds","toISOString","toJSON","as","get","add","subtract","locale","clone","humanize","fromNow","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","$utils","isDuration","content","__esModule","locals"],"sourceRoot":""}