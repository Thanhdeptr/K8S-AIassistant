"use strict";(self["webpackChunkui_plugin_examples"]=self["webpackChunkui_plugin_examples"]||[]).push([[4768],{96423:(e,s,t)=>{t.d(s,{A:()=>o});const o={props:{focusOnMount:{type:Boolean,required:!0},name:{type:String,required:!0}},computed:{displayName(){return this.t(`model.authConfig.provider.${this.name}`)}},mounted(){this.focusOnMount&&this.focus()},methods:{focus(){this.$refs.btn.focus()}}}},36647:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var o=t(20641),n=t(90033);const a={class:"span-6 offset-3"},l={class:"mb-20"},r={class:"mb-20"},i={class:"row"},u={class:"col span-12 text-center"},p={key:1,class:"text-center"};function c(e,s,t,c,d,m){const b=(0,o.g2)("LabeledInput"),h=(0,o.g2)("AsyncButton");return(0,o.uX)(),(0,o.CE)("form",null,[t.open?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",a,[(0,o.Lk)("div",l,[(0,o.bF)(b,{value:d.username,"onUpdate:value":s[0]||(s[0]=e=>d.username=e),label:e.t("login.username"),autocomplete:"username"},null,8,["value","label"])]),s[3]||(s[3]=(0,o.eW)()),(0,o.Lk)("div",r,[(0,o.bF)(b,{value:d.password,"onUpdate:value":s[1]||(s[1]=e=>d.password=e),type:"password",label:e.t("login.password"),autocomplete:"password"},null,8,["value","label"])])]),s[4]||(s[4]=(0,o.eW)()),(0,o.Lk)("div",i,[(0,o.Lk)("div",u,[(0,o.bF)(h,{ref:"btn",type:"submit","action-label":e.t("login.loginWithProvider",{provider:e.displayName}),"waiting-label":e.t("login.loggingIn"),"success-label":e.t("login.loggedIn"),"error-label":e.t("asyncButton.default.error"),class:"btn bg-primary",style:{"font-size":"18px"},onClick:m.login},null,8,["action-label","waiting-label","success-label","error-label","onClick"])])])],64)):((0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("button",{style:{"font-size":"18px"},type:"button",class:"btn bg-primary",onClick:s[2]||(s[2]=s=>e.$emit("showInputs"))},(0,n.v_)(e.t("login.loginWithProvider",{provider:e.displayName})),1)]))])}var d=t(16372),m=t(97671),b=t(96423),h=t(51229);const g={emits:["error","showInputs"],components:{LabeledInput:d.o,AsyncButton:m.A},mixins:[b.A],props:{open:{type:Boolean,default:!1}},data(){return{username:"",password:""}},methods:{async login(e){try{this.err=null,await this.$store.dispatch("auth/login",{provider:this.name,body:{username:this.username,password:this.password}}),await(0,h.A)({app:this.$store.app,store:this.$store,$plugin:this.$store.$plugin}),e(!0),this.$router.replace("/")}catch(s){this.err=s,this.$emit("error",s),e(!1)}}}};var v=t(66262);const y=(0,v.A)(g,[["render",c]]),f=y}}]);
//# sourceMappingURL=login2.fb6a5d93.js.map